<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>module objection | Objection.js</title>
    <meta name="description" content="An SQL friendly ORM for node.js">
    
    
    <link rel="preload" href="/objection.js/assets/css/0.styles.887cf860.css" as="style"><link rel="preload" href="/objection.js/assets/js/app.2d8070ec.js" as="script"><link rel="preload" href="/objection.js/assets/js/13.eb93f29d.js" as="script"><link rel="prefetch" href="/objection.js/assets/js/1.1300c266.js"><link rel="prefetch" href="/objection.js/assets/js/10.239be4a3.js"><link rel="prefetch" href="/objection.js/assets/js/11.7a51e2ad.js"><link rel="prefetch" href="/objection.js/assets/js/12.b1e0fdbe.js"><link rel="prefetch" href="/objection.js/assets/js/14.87e25a42.js"><link rel="prefetch" href="/objection.js/assets/js/15.895cf103.js"><link rel="prefetch" href="/objection.js/assets/js/16.09d1ea42.js"><link rel="prefetch" href="/objection.js/assets/js/17.7b452395.js"><link rel="prefetch" href="/objection.js/assets/js/18.eb0dfd39.js"><link rel="prefetch" href="/objection.js/assets/js/19.7467d510.js"><link rel="prefetch" href="/objection.js/assets/js/2.5050f64a.js"><link rel="prefetch" href="/objection.js/assets/js/20.abce9fb3.js"><link rel="prefetch" href="/objection.js/assets/js/21.a9b9bf73.js"><link rel="prefetch" href="/objection.js/assets/js/22.a6b4a72d.js"><link rel="prefetch" href="/objection.js/assets/js/23.84d018d4.js"><link rel="prefetch" href="/objection.js/assets/js/24.ca239af0.js"><link rel="prefetch" href="/objection.js/assets/js/25.7f3b0cd6.js"><link rel="prefetch" href="/objection.js/assets/js/26.250f021f.js"><link rel="prefetch" href="/objection.js/assets/js/27.ce4d158c.js"><link rel="prefetch" href="/objection.js/assets/js/28.51c3c69b.js"><link rel="prefetch" href="/objection.js/assets/js/29.18df49fe.js"><link rel="prefetch" href="/objection.js/assets/js/3.4219ca8c.js"><link rel="prefetch" href="/objection.js/assets/js/30.d15fd35b.js"><link rel="prefetch" href="/objection.js/assets/js/31.145a53a9.js"><link rel="prefetch" href="/objection.js/assets/js/32.8c6dbc57.js"><link rel="prefetch" href="/objection.js/assets/js/33.7659df30.js"><link rel="prefetch" href="/objection.js/assets/js/34.84d2efca.js"><link rel="prefetch" href="/objection.js/assets/js/35.816cbd36.js"><link rel="prefetch" href="/objection.js/assets/js/36.0cf5c1ed.js"><link rel="prefetch" href="/objection.js/assets/js/37.8055b716.js"><link rel="prefetch" href="/objection.js/assets/js/38.67a4e462.js"><link rel="prefetch" href="/objection.js/assets/js/39.974a5ff8.js"><link rel="prefetch" href="/objection.js/assets/js/40.9d747df9.js"><link rel="prefetch" href="/objection.js/assets/js/41.bf9e2264.js"><link rel="prefetch" href="/objection.js/assets/js/42.2acd8cde.js"><link rel="prefetch" href="/objection.js/assets/js/43.e8e6004c.js"><link rel="prefetch" href="/objection.js/assets/js/44.baaceb97.js"><link rel="prefetch" href="/objection.js/assets/js/45.f9eb9619.js"><link rel="prefetch" href="/objection.js/assets/js/46.f02f5dca.js"><link rel="prefetch" href="/objection.js/assets/js/47.16ad7941.js"><link rel="prefetch" href="/objection.js/assets/js/48.a2d3984b.js"><link rel="prefetch" href="/objection.js/assets/js/49.236052f1.js"><link rel="prefetch" href="/objection.js/assets/js/50.e254f379.js"><link rel="prefetch" href="/objection.js/assets/js/51.8edc0045.js"><link rel="prefetch" href="/objection.js/assets/js/52.0f39d9e5.js"><link rel="prefetch" href="/objection.js/assets/js/6.1f2cd6a7.js"><link rel="prefetch" href="/objection.js/assets/js/7.20cecf4f.js"><link rel="prefetch" href="/objection.js/assets/js/8.83363aa3.js"><link rel="prefetch" href="/objection.js/assets/js/9.6ba9e2fd.js"><link rel="prefetch" href="/objection.js/assets/js/vendors~docsearch.22f43628.js">
    <link rel="stylesheet" href="/objection.js/assets/css/0.styles.887cf860.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/objection.js/" class="home-link router-link-active"><!----> <span class="site-name">Objection.js</span></a> <div class="links" style="max-width:nullpx;"><form id="search-form" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="/objection.js/guide/" class="nav-link">Guide</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">API Reference</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/objection.js/api/objection/" class="nav-link router-link-exact-active router-link-active">Main Module</a></li><li class="dropdown-item"><!----> <a href="/objection.js/api/query-builder/" class="nav-link">Query Builder</a></li><li class="dropdown-item"><!----> <a href="/objection.js/api/model/" class="nav-link">Model</a></li><li class="dropdown-item"><!----> <a href="/objection.js/api/types/" class="nav-link">Types</a></li></ul></div></div><div class="nav-item"><a href="/objection.js/recipes/" class="nav-link">Recipe Book</a></div><div class="nav-item"><a href="/objection.js/changelog/" class="nav-link">Changelog</a></div> <a href="https://github.com/vincit/objection.js" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/objection.js/guide/" class="nav-link">Guide</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">API Reference</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/objection.js/api/objection/" class="nav-link router-link-exact-active router-link-active">Main Module</a></li><li class="dropdown-item"><!----> <a href="/objection.js/api/query-builder/" class="nav-link">Query Builder</a></li><li class="dropdown-item"><!----> <a href="/objection.js/api/model/" class="nav-link">Model</a></li><li class="dropdown-item"><!----> <a href="/objection.js/api/types/" class="nav-link">Types</a></li></ul></div></div><div class="nav-item"><a href="/objection.js/recipes/" class="nav-link">Recipe Book</a></div><div class="nav-item"><a href="/objection.js/changelog/" class="nav-link">Changelog</a></div> <a href="https://github.com/vincit/objection.js" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>module objection</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/objection.js/api/objection/#model" class="sidebar-link">Model</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/objection.js/api/objection/#transaction" class="sidebar-link">transaction</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/objection.js/api/objection/#ref" class="sidebar-link">ref</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/objection.js/api/objection/#raw" class="sidebar-link">raw</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/objection.js/api/objection/#lit" class="sidebar-link">lit</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/objection.js/api/objection/#mixin" class="sidebar-link">mixin</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/objection.js/api/objection/#compose" class="sidebar-link">compose</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/objection.js/api/objection/#snakecasemappers" class="sidebar-link">snakeCaseMappers</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/objection.js/api/objection/#knexsnakecasemappers" class="sidebar-link">knexSnakeCaseMappers</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/objection.js/api/objection/#knexidentifiermapping" class="sidebar-link">knexIdentifierMapping</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/objection.js/api/objection/#validationerror" class="sidebar-link">ValidationError</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/objection.js/api/objection/#notfounderror" class="sidebar-link">NotFoundError</a><ul class="sidebar-sub-headers"></ul></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="module-objection"><a href="#module-objection" aria-hidden="true" class="header-anchor">#</a> <code>module</code> objection</h1> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> objection <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'objection'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> Model<span class="token punctuation">,</span> ref <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'objection'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>The objection module is what you get when you import objection. It has a bunch of properties that are listed below.</p> <h2 id="model"><a href="#model" aria-hidden="true" class="header-anchor">#</a> Model</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> Model <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'objection'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a href="/objection.js/api/model/">The model class</a></p> <h2 id="transaction"><a href="#transaction" aria-hidden="true" class="header-anchor">#</a> transaction</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> transaction <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'objection'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a href="/objection.js/guide/transactions.html">The transaction function</a></p> <h2 id="ref"><a href="#ref" aria-hidden="true" class="header-anchor">#</a> ref</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'objection'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Factory function that returns a <a href="/objection.js/api/types/#class-referencebuilder">ReferenceBuilder</a> instance, that makes it easier to refer to tables, columns, json attributes etc. <a href="/objection.js/api/types/#class-referencebuilder">ReferenceBuilder</a> can also be used to type cast and alias the references.</p> <p>See <a href="/objection.js/api/types/#type-fieldexpression">FieldExpression</a> for more information about how to refer to json fields.</p> <h5 id="examples"><a href="#examples" aria-hidden="true" class="header-anchor">#</a> Examples</h5> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'objection'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">await</span> Model<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token string">'id'</span><span class="token punctuation">,</span>
    <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">'Model.jsonColumn:details.name'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">castText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">as</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">'Model.jsonColumn:details.age'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">castInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">as</span><span class="token punctuation">(</span><span class="token string">'age'</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>
    <span class="token string">'OtherModel'</span><span class="token punctuation">,</span>
    <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">'Model.jsonColumn:details.name'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">castText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token string">'='</span><span class="token punctuation">,</span>
    <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">'OtherModel.name'</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token string">'age'</span><span class="token punctuation">,</span> <span class="token string">'&gt;'</span><span class="token punctuation">,</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">'OtherModel.ageLimit'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="raw"><a href="#raw" aria-hidden="true" class="header-anchor">#</a> raw</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> raw <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'objection'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Factory function that returns a <a href="/objection.js/api/types/#class-rawbuilder">RawBuilder</a> instance. <a href="/objection.js/api/types/#class-rawbuilder">RawBuilder</a> is a wrapper for knex raw method that doesn't depend on knex. Instances of <a href="/objection.js/api/types/#class-rawbuilder">RawBuilder</a> are converted to knex raw instances lazily when the query is executed.</p> <p>Also see <a href="/objection.js/recipes/raw-queries.html">the raw query recipe</a>.</p> <h5 id="examples-2"><a href="#examples-2" aria-hidden="true" class="header-anchor">#</a> Examples</h5> <p>When using raw SQL segments in queries, it's a good idea to use placeholders instead of  adding user input directly to the SQL to avoid injection errors. Placeholders are sent to the database engine which then takes care of interpolating the SQL safely.</p> <p>You can use <code>??</code> as a placeholder for identifiers (column names, aliases etc.) and <code>?</code> for values.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> raw <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'objection'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token keyword">await</span> Person
  <span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token function">raw</span><span class="token punctuation">(</span><span class="token string">'coalesce(sum(??), 0) as ??'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'age'</span><span class="token punctuation">,</span> <span class="token string">'ageSum'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token string">'age'</span><span class="token punctuation">,</span> <span class="token string">'&lt;'</span><span class="token punctuation">,</span> <span class="token function">raw</span><span class="token punctuation">(</span><span class="token string">'? + ?'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>ageSum<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>You can use <code>raw</code> in insert and update queries too:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">await</span> Person
  <span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">patch</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    age<span class="token punctuation">:</span> <span class="token function">raw</span><span class="token punctuation">(</span><span class="token string">'age + ?'</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>You can also use named placeholders. <code>:someName:</code> for identifiers (column names, aliases etc.) and <code>:someName</code> for values.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">await</span> Person
  <span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token function">raw</span><span class="token punctuation">(</span><span class="token string">'coalesce(sum(:sumColumn:), 0) as :alias:'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    sumColumn<span class="token punctuation">:</span> <span class="token string">'age'</span><span class="token punctuation">,</span>
    alias<span class="token punctuation">:</span> <span class="token string">'ageSum'</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token string">'age'</span><span class="token punctuation">,</span> <span class="token string">'&lt;'</span><span class="token punctuation">,</span> <span class="token function">raw</span><span class="token punctuation">(</span><span class="token string">':value1 + :value2'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    value1<span class="token punctuation">:</span> <span class="token number">50</span><span class="token punctuation">,</span>
    value2<span class="token punctuation">:</span> <span class="token number">25</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>You can nest <code>ref</code>, <code>raw</code>, <code>lit</code> and query builders (both knex and objection) in <code>raw</code> calls</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> lit <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'objection'</span><span class="token punctuation">)</span>

<span class="token keyword">await</span> Person
  <span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token function">raw</span><span class="token punctuation">(</span><span class="token string">'coalesce(:sumQuery, 0) as :alias:'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    sumQuery<span class="token punctuation">:</span> Person<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token string">'age'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    alias<span class="token punctuation">:</span> <span class="token string">'ageSum'</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token string">'age'</span><span class="token punctuation">,</span> <span class="token string">'&lt;'</span><span class="token punctuation">,</span> <span class="token function">raw</span><span class="token punctuation">(</span><span class="token string">':value1 + :value2'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    value1<span class="token punctuation">:</span> <span class="token function">lit</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span>
    value2<span class="token punctuation">:</span> knex<span class="token punctuation">.</span><span class="token function">raw</span><span class="token punctuation">(</span><span class="token string">'25'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="lit"><a href="#lit" aria-hidden="true" class="header-anchor">#</a> lit</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> lit <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'objection'</span><span class="token punctuation">)</span>
</code></pre></div><p>Factory function that returns a <a href="/objection.js/api/types/#class-literalbuilder">LiteralBuilder</a> instance. <a href="/objection.js/api/types/#class-literalbuilder">LiteralBuilder</a> helps build literals of different types.</p> <h5 id="examples-3"><a href="#examples-3" aria-hidden="true" class="header-anchor">#</a> Examples</h5> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> lit<span class="token punctuation">,</span> ref <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'objection'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Compare json objects</span>
<span class="token keyword">await</span> Model
  <span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">where</span><span class="token punctuation">(</span>
    <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">'Model.jsonColumn:details'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token string">'='</span><span class="token punctuation">,</span>
    <span class="token function">lit</span><span class="token punctuation">(</span><span class="token punctuation">{</span>name<span class="token punctuation">:</span> <span class="token string">'Jennifer'</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token number">29</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span>

<span class="token comment">// Insert an array literal</span>
<span class="token keyword">await</span> Model
  <span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    numbers<span class="token punctuation">:</span> <span class="token function">lit</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">asArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">castTo</span><span class="token punctuation">(</span><span class="token string">'real[]'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="mixin"><a href="#mixin" aria-hidden="true" class="header-anchor">#</a> mixin</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> mixin <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'objection'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>The mixin helper for applying multiple <a href="/objection.js/guide/plugins.html">plugins</a>.</p> <h5 id="examples-4"><a href="#examples-4" aria-hidden="true" class="header-anchor">#</a> Examples</h5> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> mixin<span class="token punctuation">,</span> Model <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'objection'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token keyword">extends</span> <span class="token class-name">mixin</span><span class="token punctuation">(</span>Model<span class="token punctuation">,</span> <span class="token punctuation">[</span>
  SomeMixin<span class="token punctuation">,</span>
  SomeOtherMixin<span class="token punctuation">,</span>
  EvenMoreMixins<span class="token punctuation">,</span>
  LolSoManyMixins<span class="token punctuation">,</span>
  <span class="token function">ImAMixinWithOptions</span><span class="token punctuation">(</span><span class="token punctuation">{</span>foo<span class="token punctuation">:</span> <span class="token string">'bar'</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span>
</code></pre></div><h2 id="compose"><a href="#compose" aria-hidden="true" class="header-anchor">#</a> compose</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> compose <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'objection'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>The compose helper for applying multiple <a href="/objection.js/guide/plugins.html">plugins</a>.</p> <h5 id="examples-5"><a href="#examples-5" aria-hidden="true" class="header-anchor">#</a> Examples</h5> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> compose<span class="token punctuation">,</span> Model <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'objection'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> mixins <span class="token operator">=</span> <span class="token function">compose</span><span class="token punctuation">(</span>
  SomeMixin<span class="token punctuation">,</span>
  SomeOtherMixin<span class="token punctuation">,</span>
  EvenMoreMixins<span class="token punctuation">,</span>
  LolSoManyMixins<span class="token punctuation">,</span>
  <span class="token function">ImAMixinWithOptions</span><span class="token punctuation">(</span><span class="token punctuation">{</span>foo<span class="token punctuation">:</span> <span class="token string">'bar'</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token keyword">extends</span> <span class="token class-name">mixins</span><span class="token punctuation">(</span>Model<span class="token punctuation">)</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span>
</code></pre></div><h2 id="snakecasemappers"><a href="#snakecasemappers" aria-hidden="true" class="header-anchor">#</a> snakeCaseMappers</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> snakeCaseMappers <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'objection'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Function for adding snake_case to camelCase conversion to objection models. Better documented <a href="/objection.js/recipes/snake-case-to-camel-case-conversion.html">here</a>. The <code>snakeCaseMappers</code> function accepts an options object. The available options are:</p> <table><thead><tr><th>Option</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>upperCase</td> <td>boolean</td> <td>Set to <code>true</code> if your columns are UPPER_SNAKE_CASED.</td></tr></tbody></table> <h5 id="examples-6"><a href="#examples-6" aria-hidden="true" class="header-anchor">#</a> Examples</h5> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> Model<span class="token punctuation">,</span> snakeCaseMappers <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'objection'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token keyword">extends</span> <span class="token class-name">Model</span> <span class="token punctuation">{</span>
  <span class="token keyword">static</span> <span class="token keyword">get</span> <span class="token function">columnNameMappers</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">snakeCaseMappers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>If your columns are UPPER_SNAKE_CASE</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> Model<span class="token punctuation">,</span> snakeCaseMappers <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'objection'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token keyword">extends</span> <span class="token class-name">Model</span> <span class="token punctuation">{</span>
  <span class="token keyword">static</span> <span class="token keyword">get</span> <span class="token function">columnNameMappers</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">snakeCaseMappers</span><span class="token punctuation">(</span><span class="token punctuation">{</span> upperCase<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="knexsnakecasemappers"><a href="#knexsnakecasemappers" aria-hidden="true" class="header-anchor">#</a> knexSnakeCaseMappers</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> knexSnakeCaseMappers <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'objection'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Function for adding a snake_case to camelCase conversion to <code>knex</code>. Better documented <a href="/objection.js/recipes/snake-case-to-camel-case-conversion.html">here</a>. The <code>knexSnakeCaseMappers</code> function accepts an options object. The available options are:</p> <table><thead><tr><th>Option</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>upperCase</td> <td>boolean</td> <td>Set to <code>true</code> if your columns are UPPER_SNAKE_CASED.</td></tr></tbody></table> <h5 id="examples-7"><a href="#examples-7" aria-hidden="true" class="header-anchor">#</a> Examples</h5> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> knexSnakeCaseMappers <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'objection'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> Knex <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'knex'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> knex <span class="token operator">=</span> <span class="token function">Knex</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  client<span class="token punctuation">:</span> <span class="token string">'postgres'</span><span class="token punctuation">,</span>

  connection<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    host<span class="token punctuation">:</span> <span class="token string">'127.0.0.1'</span><span class="token punctuation">,</span>
    user<span class="token punctuation">:</span> <span class="token string">'objection'</span><span class="token punctuation">,</span>
    database<span class="token punctuation">:</span> <span class="token string">'objection_test'</span>
  <span class="token punctuation">}</span>

  <span class="token operator">...</span><span class="token function">knexSnakeCaseMappers</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>If your columns are UPPER_SNAKE_CASE</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> knexSnakeCaseMappers <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'objection'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> Knex <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'knex'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> knex <span class="token operator">=</span> <span class="token function">Knex</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  client<span class="token punctuation">:</span> <span class="token string">'postgres'</span><span class="token punctuation">,</span>

  connection<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    host<span class="token punctuation">:</span> <span class="token string">'127.0.0.1'</span><span class="token punctuation">,</span>
    user<span class="token punctuation">:</span> <span class="token string">'objection'</span><span class="token punctuation">,</span>
    database<span class="token punctuation">:</span> <span class="token string">'objection_test'</span>
  <span class="token punctuation">}</span>

  <span class="token operator">...</span><span class="token function">knexSnakeCaseMappers</span><span class="token punctuation">(</span><span class="token punctuation">{</span> upperCase<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>For older nodes:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> Knex <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'knex'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> knexSnakeCaseMappers <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'objection'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>knexSnakeCaseMappers<span class="token punctuation">;</span>

<span class="token keyword">const</span> knex <span class="token operator">=</span> <span class="token function">Knex</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  client<span class="token punctuation">:</span> <span class="token string">'postgres'</span><span class="token punctuation">,</span>

  connection<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    host<span class="token punctuation">:</span> <span class="token string">'127.0.0.1'</span><span class="token punctuation">,</span>
    user<span class="token punctuation">:</span> <span class="token string">'objection'</span><span class="token punctuation">,</span>
    database<span class="token punctuation">:</span> <span class="token string">'objection_test'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token function">knexSnakeCaseMappers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="knexidentifiermapping"><a href="#knexidentifiermapping" aria-hidden="true" class="header-anchor">#</a> knexIdentifierMapping</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> knexIdentifierMapping <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'objection'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Like <a href="/objection.js/api/objection/#knexsnakecasemappers">knexSnakeCaseMappers</a>, but can be used to make an arbitrary static mapping between column names and property names. In the examples, you would have identifiers <code>MyId</code>, <code>MyProp</code> and <code>MyAnotherProp</code> in the database and you would like to map them into <code>id</code>, <code>prop</code> and <code>anotherProp</code> in the code.</p> <h5 id="examples-8"><a href="#examples-8" aria-hidden="true" class="header-anchor">#</a> Examples</h5> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> knexIdentifierMapping <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'objection'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> Knex <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'knex'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> knex <span class="token operator">=</span> <span class="token function">Knex</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  client<span class="token punctuation">:</span> <span class="token string">'postgres'</span><span class="token punctuation">,</span>

  connection<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    host<span class="token punctuation">:</span> <span class="token string">'127.0.0.1'</span><span class="token punctuation">,</span>
    user<span class="token punctuation">:</span> <span class="token string">'objection'</span><span class="token punctuation">,</span>
    database<span class="token punctuation">:</span> <span class="token string">'objection_test'</span>
  <span class="token punctuation">}</span>

  <span class="token operator">...</span><span class="token function">knexIdentifierMapping</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    MyId<span class="token punctuation">:</span> <span class="token string">'id'</span><span class="token punctuation">,</span>
    MyProp<span class="token punctuation">:</span> <span class="token string">'prop'</span><span class="token punctuation">,</span>
    MyAnotherProp<span class="token punctuation">:</span> <span class="token string">'anotherProp'</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Note that you can pretty easily define the conversions in some static property of your model. In this example we have added a property <code>column</code> to jsonSchema and use that to create the mapping object.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> knexIdentifierMapping <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'objection'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> Knex <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'knex'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Path to your model folder.</span>
<span class="token keyword">const</span> <span class="token constant">MODELS_PATH</span> <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'models'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> knex <span class="token operator">=</span> <span class="token function">Knex</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  client<span class="token punctuation">:</span> <span class="token string">'postgres'</span><span class="token punctuation">,</span>

  connection<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    host<span class="token punctuation">:</span> <span class="token string">'127.0.0.1'</span><span class="token punctuation">,</span>
    user<span class="token punctuation">:</span> <span class="token string">'objection'</span><span class="token punctuation">,</span>
    database<span class="token punctuation">:</span> <span class="token string">'objection_test'</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// Go through all models and add conversions using the custom property</span>
  <span class="token comment">// `column` in json schema.</span>
  <span class="token operator">...</span><span class="token function">knexIdentifierMapping</span><span class="token punctuation">(</span>fs<span class="token punctuation">.</span><span class="token function">readdirSync</span><span class="token punctuation">(</span><span class="token constant">MODELS_PATH</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">it</span> <span class="token operator">=&gt;</span> it<span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token string">'.js'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">it</span> <span class="token operator">=&gt;</span> <span class="token function">require</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token constant">MODELS_PATH</span><span class="token punctuation">,</span> it<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">mapping<span class="token punctuation">,</span> modelClass</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> properties <span class="token operator">=</span> modelClass<span class="token punctuation">.</span>jsonSchema<span class="token punctuation">.</span>properties<span class="token punctuation">;</span>
      <span class="token keyword">return</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>properties<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">mapping<span class="token punctuation">,</span> propName</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        mapping<span class="token punctuation">[</span>properties<span class="token punctuation">[</span>propName<span class="token punctuation">]</span><span class="token punctuation">.</span>column<span class="token punctuation">]</span> <span class="token operator">=</span> propName<span class="token punctuation">;</span>
        <span class="token keyword">return</span> mapping<span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> mapping<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>For older nodes:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> Knex <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'knex'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> knexIdentifierMapping <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'objection'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>knexIdentifierMapping<span class="token punctuation">;</span>

<span class="token keyword">const</span> knex <span class="token operator">=</span> <span class="token function">Knex</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  client<span class="token punctuation">:</span> <span class="token string">'postgres'</span><span class="token punctuation">,</span>

  connection<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    host<span class="token punctuation">:</span> <span class="token string">'127.0.0.1'</span><span class="token punctuation">,</span>
    user<span class="token punctuation">:</span> <span class="token string">'objection'</span><span class="token punctuation">,</span>
    database<span class="token punctuation">:</span> <span class="token string">'objection_test'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token function">knexIdentifierMapping</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  MyId<span class="token punctuation">:</span> <span class="token string">'id'</span><span class="token punctuation">,</span>
  MyProp<span class="token punctuation">:</span> <span class="token string">'prop'</span><span class="token punctuation">,</span>
  MyAnotherProp<span class="token punctuation">:</span> <span class="token string">'anotherProp'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="validationerror"><a href="#validationerror" aria-hidden="true" class="header-anchor">#</a> ValidationError</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> ValidationError <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'objection'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>The <a href="/objection.js/api/types/#class-validationerror">ValidationError</a> class.</p> <h2 id="notfounderror"><a href="#notfounderror" aria-hidden="true" class="header-anchor">#</a> NotFoundError</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> NotFoundError <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'objection'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>The <a href="/objection.js/api/types/#class-notfounderror">NotFoundError</a> class.</p></div> <div class="page-edit"><!----> <!----></div> <!----> </div> <!----></div></div>
    <script src="/objection.js/assets/js/app.2d8070ec.js" defer></script><script src="/objection.js/assets/js/13.eb93f29d.js" defer></script>
  </body>
</html>
