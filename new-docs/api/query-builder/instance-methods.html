<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Instance Methods | Objection.js</title>
    <meta name="description" content="An SQL friendly ORM for node.js">
    
    
    <link rel="preload" href="/objection.js/new-docs/assets/css/0.styles.78b46716.css" as="style"><link rel="preload" href="/objection.js/new-docs/assets/js/app.4e2e77f5.js" as="script"><link rel="preload" href="/objection.js/new-docs/assets/js/14.97c5feaa.js" as="script"><link rel="prefetch" href="/objection.js/new-docs/assets/js/1.7325bf53.js"><link rel="prefetch" href="/objection.js/new-docs/assets/js/10.73befdeb.js"><link rel="prefetch" href="/objection.js/new-docs/assets/js/11.cf2c8918.js"><link rel="prefetch" href="/objection.js/new-docs/assets/js/12.af12f3e3.js"><link rel="prefetch" href="/objection.js/new-docs/assets/js/13.87f2f29e.js"><link rel="prefetch" href="/objection.js/new-docs/assets/js/15.8833795f.js"><link rel="prefetch" href="/objection.js/new-docs/assets/js/16.496d8781.js"><link rel="prefetch" href="/objection.js/new-docs/assets/js/17.f57bca03.js"><link rel="prefetch" href="/objection.js/new-docs/assets/js/18.bee83847.js"><link rel="prefetch" href="/objection.js/new-docs/assets/js/19.56f50c47.js"><link rel="prefetch" href="/objection.js/new-docs/assets/js/2.d7717291.js"><link rel="prefetch" href="/objection.js/new-docs/assets/js/20.02bfcf0a.js"><link rel="prefetch" href="/objection.js/new-docs/assets/js/21.fdcf29d9.js"><link rel="prefetch" href="/objection.js/new-docs/assets/js/22.41a833be.js"><link rel="prefetch" href="/objection.js/new-docs/assets/js/23.1e1851be.js"><link rel="prefetch" href="/objection.js/new-docs/assets/js/24.789c23bb.js"><link rel="prefetch" href="/objection.js/new-docs/assets/js/25.6299694b.js"><link rel="prefetch" href="/objection.js/new-docs/assets/js/26.5b1e7055.js"><link rel="prefetch" href="/objection.js/new-docs/assets/js/27.b320d60a.js"><link rel="prefetch" href="/objection.js/new-docs/assets/js/28.fdd434eb.js"><link rel="prefetch" href="/objection.js/new-docs/assets/js/29.4f773924.js"><link rel="prefetch" href="/objection.js/new-docs/assets/js/3.796539dd.js"><link rel="prefetch" href="/objection.js/new-docs/assets/js/30.21eec2fb.js"><link rel="prefetch" href="/objection.js/new-docs/assets/js/31.3e7a4cc5.js"><link rel="prefetch" href="/objection.js/new-docs/assets/js/32.8c12a0a8.js"><link rel="prefetch" href="/objection.js/new-docs/assets/js/33.0bb043ca.js"><link rel="prefetch" href="/objection.js/new-docs/assets/js/34.e6dafc2d.js"><link rel="prefetch" href="/objection.js/new-docs/assets/js/35.3ba19247.js"><link rel="prefetch" href="/objection.js/new-docs/assets/js/36.d822ffa8.js"><link rel="prefetch" href="/objection.js/new-docs/assets/js/37.e6cd9387.js"><link rel="prefetch" href="/objection.js/new-docs/assets/js/38.5b7a48a5.js"><link rel="prefetch" href="/objection.js/new-docs/assets/js/39.9e903591.js"><link rel="prefetch" href="/objection.js/new-docs/assets/js/40.7df0496b.js"><link rel="prefetch" href="/objection.js/new-docs/assets/js/41.d494768c.js"><link rel="prefetch" href="/objection.js/new-docs/assets/js/42.c8708460.js"><link rel="prefetch" href="/objection.js/new-docs/assets/js/43.ada4255a.js"><link rel="prefetch" href="/objection.js/new-docs/assets/js/5.0ae1e31b.js"><link rel="prefetch" href="/objection.js/new-docs/assets/js/6.2bd497bc.js"><link rel="prefetch" href="/objection.js/new-docs/assets/js/7.87d1f15c.js"><link rel="prefetch" href="/objection.js/new-docs/assets/js/8.a99f1d90.js"><link rel="prefetch" href="/objection.js/new-docs/assets/js/9.10aa34da.js">
    <link rel="stylesheet" href="/objection.js/new-docs/assets/css/0.styles.78b46716.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/objection.js/new-docs/" class="home-link router-link-active"><!----> <span class="site-name">Objection.js</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/objection.js/new-docs/guide/" class="nav-link">Guide</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">API Reference</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/objection.js/new-docs/api/objection/" class="nav-link">Main Module</a></li><li class="dropdown-item"><!----> <a href="/objection.js/new-docs/api/query-builder/" class="nav-link router-link-active">Query Builder</a></li><li class="dropdown-item"><!----> <a href="/objection.js/new-docs/api/model/" class="nav-link">Model</a></li><li class="dropdown-item"><!----> <a href="/objection.js/new-docs/api/types/" class="nav-link">Types</a></li></ul></div></div><div class="nav-item"><a href="/objection.js/new-docs/recipes/" class="nav-link">Recipe Book</a></div> <a href="https://github.com/vincit/objection.js" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/objection.js/new-docs/guide/" class="nav-link">Guide</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">API Reference</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/objection.js/new-docs/api/objection/" class="nav-link">Main Module</a></li><li class="dropdown-item"><!----> <a href="/objection.js/new-docs/api/query-builder/" class="nav-link router-link-active">Query Builder</a></li><li class="dropdown-item"><!----> <a href="/objection.js/new-docs/api/model/" class="nav-link">Model</a></li><li class="dropdown-item"><!----> <a href="/objection.js/new-docs/api/types/" class="nav-link">Types</a></li></ul></div></div><div class="nav-item"><a href="/objection.js/new-docs/recipes/" class="nav-link">Recipe Book</a></div> <a href="https://github.com/vincit/objection.js" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>Query Builder API Reference</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/objection.js/new-docs/api/query-builder/static-methods.html" class="sidebar-link">Static Methods</a></li><li><a href="/objection.js/new-docs/api/query-builder/instance-methods.html" class="active sidebar-link">Instance Methods</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#query-building-methods" class="sidebar-link">Query Building Methods</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#findbyid" class="sidebar-link">findById()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#findbyids" class="sidebar-link">findByIds()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#findone" class="sidebar-link">findOne()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#insert" class="sidebar-link">insert()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#insertandfetch" class="sidebar-link">insertAndFetch()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#insertgraph" class="sidebar-link">insertGraph()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#insertgraphandfetch" class="sidebar-link">insertGraphAndFetch()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#insertwithrelated" class="sidebar-link">insertWithRelated()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#insertwithrelatedandfetch" class="sidebar-link">insertWithRelatedAndFetch()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#patch" class="sidebar-link">patch()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#patchandfetchbyid" class="sidebar-link">patchAndFetchById()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#patchandfetch" class="sidebar-link">patchAndFetch()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#update" class="sidebar-link">update()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#updateandfetchbyid" class="sidebar-link">updateAndFetchById()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#updateandfetch" class="sidebar-link">updateAndFetch()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#upsertgraph" class="sidebar-link">upsertGraph()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#upsertgraphandfetch" class="sidebar-link">upsertGraphAndFetch()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#delete" class="sidebar-link">delete()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#deletebyid" class="sidebar-link">deleteById()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#relate" class="sidebar-link">relate()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#unrelate" class="sidebar-link">unrelate()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#alias" class="sidebar-link">alias()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#aliasfor" class="sidebar-link">aliasFor()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#increment" class="sidebar-link">increment()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#decrement" class="sidebar-link">decrement()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#select" class="sidebar-link">select()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#forupdate" class="sidebar-link">forUpdate()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#forshare" class="sidebar-link">forShare()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#timeout" class="sidebar-link">timeout()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#as" class="sidebar-link">as()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#columns" class="sidebar-link">columns()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#column" class="sidebar-link">column()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#from" class="sidebar-link">from()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#into" class="sidebar-link">into()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#with" class="sidebar-link">with()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#withschema" class="sidebar-link">withSchema()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#table" class="sidebar-link">table()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#distinct" class="sidebar-link">distinct()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#join" class="sidebar-link">join()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#joinraw" class="sidebar-link">joinRaw()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#innerjoin" class="sidebar-link">innerJoin()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#leftjoin" class="sidebar-link">leftJoin()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#leftouterjoin" class="sidebar-link">leftOuterJoin()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#rightjoin" class="sidebar-link">rightJoin()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#rightouterjoin" class="sidebar-link">rightOuterJoin()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#outerjoin" class="sidebar-link">outerJoin()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#fullouterjoin" class="sidebar-link">fullOuterJoin()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#crossjoin" class="sidebar-link">crossJoin()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#joinrelation" class="sidebar-link">joinRelation()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#innerjoinrelation" class="sidebar-link">innerJoinRelation()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#outerjoinrelation" class="sidebar-link">outerJoinRelation()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#leftjoinrelation" class="sidebar-link">leftJoinRelation()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#leftouterjoinrelation" class="sidebar-link">leftOuterJoinRelation()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#rightjoinrelation" class="sidebar-link">rightJoinRelation()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#rightouterjoinrelation" class="sidebar-link">rightOuterJoinRelation()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#fullouterjoinrelation" class="sidebar-link">fullOuterJoinRelation()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#where" class="sidebar-link">where</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#andwhere" class="sidebar-link">andWhere()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#orwhere" class="sidebar-link">orWhere()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#wherenot" class="sidebar-link">whereNot()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#orwherenot" class="sidebar-link">orWhereNot()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#whereraw" class="sidebar-link">whereRaw()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#wherewrapped" class="sidebar-link">whereWrapped()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#havingwrapped" class="sidebar-link">havingWrapped()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#orwhereraw" class="sidebar-link">orWhereRaw()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#whereexists" class="sidebar-link">whereExists()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#orwhereexists" class="sidebar-link">orWhereExists()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#wherenotexists" class="sidebar-link">whereNotExists()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#orwherenotexists" class="sidebar-link">orWhereNotExists()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#wherein" class="sidebar-link">whereIn()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#orwherein" class="sidebar-link">orWhereIn()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#wherenotin" class="sidebar-link">whereNotIn()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#orwherenotin" class="sidebar-link">orWhereNotIn()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#wherenull" class="sidebar-link">whereNull()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#orwherenull" class="sidebar-link">orWhereNull()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#wherenotnull" class="sidebar-link">whereNotNull()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#orwherenotnull" class="sidebar-link">orWhereNotNull()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#wherebetween" class="sidebar-link">whereBetween()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#wherenotbetween" class="sidebar-link">whereNotBetween()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#orwherebetween" class="sidebar-link">orWhereBetween()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#orwherenotbetween" class="sidebar-link">orWhereNotBetween()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#groupby" class="sidebar-link">groupBy()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#groupbyraw" class="sidebar-link">groupByRaw()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#orderby" class="sidebar-link">orderBy()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#orderbyraw" class="sidebar-link">orderByRaw()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#union" class="sidebar-link">union()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#unionall" class="sidebar-link">unionAll()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#having" class="sidebar-link">having()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#havingraw" class="sidebar-link">havingRaw()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#orhaving" class="sidebar-link">orHaving()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#orhavingraw" class="sidebar-link">orHavingRaw()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#offset" class="sidebar-link">offset()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#limit" class="sidebar-link">limit()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#count" class="sidebar-link">count()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#countdistinct" class="sidebar-link">countDistinct()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#min" class="sidebar-link">min()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#max" class="sidebar-link">max()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#sum" class="sidebar-link">sum()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#avg" class="sidebar-link">avg()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#avgdistinct" class="sidebar-link">avgDistinct()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#debug" class="sidebar-link">debug()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#returning" class="sidebar-link">returning()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#truncate" class="sidebar-link">truncate()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#connection" class="sidebar-link">connection()</a></li><li class="sidebar-sub-header"><a href="/objection.js/new-docs/api/query-builder/instance-methods.html#modify" class="sidebar-link">modify()</a></li></ul></li></ul></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="instance-methods"><a href="#instance-methods" aria-hidden="true" class="header-anchor">#</a> Instance Methods</h1> <h2 id="query-building-methods"><a href="#query-building-methods" aria-hidden="true" class="header-anchor">#</a> Query Building Methods</h2> <h3 id="findbyid"><a href="#findbyid" aria-hidden="true" class="header-anchor">#</a> findById()</h3> <div class="language-js extra-class"><pre class="language-js"><code>queryBuilder <span class="token operator">=</span> queryBuilder<span class="token punctuation">.</span><span class="token function">findById</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Finds a single item by id.</p> <h5 id="arguments"><a href="#arguments" aria-hidden="true" class="header-anchor">#</a> Arguments</h5> <table><thead><tr><th>Argument</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>id</td> <td>any | any[]</td> <td>The identifier.</td></tr></tbody></table> <h5 id="return-value"><a href="#return-value" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h5 id="examples"><a href="#examples" aria-hidden="true" class="header-anchor">#</a> Examples</h5> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token keyword">await</span> Person<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">findById</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Composite key:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token keyword">await</span> Person<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">findById</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'10'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><code>findById</code> can be used together with <code>patch</code>, <code>delete</code> and any other query method. All it does is adds the needed <code>where</code> clauses to the query.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">await</span> Person<span class="token punctuation">.</span><span class="token function">findById</span><span class="token punctuation">(</span>someId<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">patch</span><span class="token punctuation">(</span><span class="token punctuation">{</span> firstName<span class="token punctuation">:</span> <span class="token string">'Jennifer'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="findbyids"><a href="#findbyids" aria-hidden="true" class="header-anchor">#</a> findByIds()</h3> <div class="language-js extra-class"><pre class="language-js"><code>queryBuilder <span class="token operator">=</span> queryBuilder<span class="token punctuation">.</span><span class="token function">findByIds</span><span class="token punctuation">(</span>ids<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Finds a list of items. The order of the returned items is not guaranteed to be the same as the order of the inputs.</p> <h5 id="arguments-2"><a href="#arguments-2" aria-hidden="true" class="header-anchor">#</a> Arguments</h5> <table><thead><tr><th>Argument</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>ids</td> <td>any[]</td> <td>A List of identifiers.</td></tr></tbody></table> <h5 id="return-value-2"><a href="#return-value-2" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h5 id="examples-2"><a href="#examples-2" aria-hidden="true" class="header-anchor">#</a> Examples</h5> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">[</span>person1<span class="token punctuation">,</span> person2<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">await</span> Person<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">findByIds</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Composite key:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">[</span>person1<span class="token punctuation">,</span> person2<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">await</span> Person<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">findByIds</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'10'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'10'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="findone"><a href="#findone" aria-hidden="true" class="header-anchor">#</a> findOne()</h3> <div class="language-js extra-class"><pre class="language-js"><code>queryBuilder <span class="token operator">=</span> queryBuilder<span class="token punctuation">.</span><span class="token function">findOne</span><span class="token punctuation">(</span><span class="token operator">...</span>whereArgs<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Shorthand for <code>where(...whereArgs).first()</code>.</p> <h5 id="arguments-3"><a href="#arguments-3" aria-hidden="true" class="header-anchor">#</a> Arguments</h5> <table><thead><tr><th>Argument</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>whereArgs</td> <td>...any</td> <td>Anything the <a href="/objection.js/new-docs/api/query-builder/instance-methods.html#where">where</a> method accepts.</td></tr></tbody></table> <h5 id="return-value-3"><a href="#return-value-3" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h5 id="examples-3"><a href="#examples-3" aria-hidden="true" class="header-anchor">#</a> Examples</h5> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token keyword">await</span> Person<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">findOne</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  firstName<span class="token punctuation">:</span> <span class="token string">'Jennifer'</span><span class="token punctuation">,</span>
  lastName<span class="token punctuation">:</span> <span class="token string">'Lawrence'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token keyword">await</span> Person<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">findOne</span><span class="token punctuation">(</span><span class="token string">'age'</span><span class="token punctuation">,</span> <span class="token string">'&gt;'</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token keyword">await</span> Person<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">findOne</span><span class="token punctuation">(</span><span class="token function">raw</span><span class="token punctuation">(</span><span class="token string">'random() &lt; 0.5'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="insert"><a href="#insert" aria-hidden="true" class="header-anchor">#</a> insert()</h3> <div class="language-js extra-class"><pre class="language-js"><code>queryBuilder <span class="token operator">=</span> queryBuilder<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>modelsOrObjects<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Creates an insert query.</p> <p>The inserted objects are validated against the model's <a href="/objection.js/new-docs/api/model/static-properties.html#static-jsonschema">jsonSchema</a>. If validation fails
the Promise is rejected with a <a href="/objection.js/new-docs/api/types/#class-validationerror">ValidationError</a>.</p> <p>NOTE: The return value of the insert query <em>only</em> contains the properties given to the insert
method plus the identifier. This is because we don't make an additional fetch query after
the insert. Using postgres you can chain <a href="/objection.js/new-docs/api/query-builder/instance-methods.html#returning">returning('*')</a> to the query to get all
properties - see <a href="/objection.js/new-docs/recipes/returning-tricks.html">this recipe</a> for some examples. If you use
<code>returning(['only', 'some', 'props'])</code> note that the result object will still contain the input properies
<strong>plus</strong> the properties listed in <code>returning</code>. On other databases you can use the <a href="/objection.js/new-docs/api/query-builder/instance-methods.html#insertandfetch">insertAndFetch</a> method.</p> <p>Batch inserts only work on Postgres because Postgres is the only database engine
that returns the identifiers of <em>all</em> inserted rows. knex supports batch inserts on
other databases also, but you only get the id of the first (or last) inserted object
as a result. If you need batch insert on other databases you can use knex directly
through <a href="/objection.js/new-docs/api/model/static-methods.html#static-knexquery">knexQuery</a>.</p> <h5 id="arguments-4"><a href="#arguments-4" aria-hidden="true" class="header-anchor">#</a> Arguments</h5> <table><thead><tr><th>Argument</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>modelsOrObjects</td> <td>Object | <a href="/objection.js/new-docs/api/model/">Model</a> | Object[] | <a href="/objection.js/new-docs/api/model/">Model</a>[]</td> <td>Objects to insert</td></tr></tbody></table> <h5 id="return-value-4"><a href="#return-value-4" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h5 id="examples-4"><a href="#examples-4" aria-hidden="true" class="header-anchor">#</a> Examples</h5> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> jennifer <span class="token operator">=</span> <span class="token keyword">await</span> Person
  <span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">{</span>firstName<span class="token punctuation">:</span> <span class="token string">'Jennifer'</span><span class="token punctuation">,</span> lastName<span class="token punctuation">:</span> <span class="token string">'Lawrence'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>jennifer<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Batch insert (Only works on Postgres):</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> actors <span class="token operator">=</span> <span class="token keyword">await</span> someMovie
  <span class="token punctuation">.</span><span class="token function">$relatedQuery</span><span class="token punctuation">(</span><span class="token string">'actors'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token punctuation">{</span>firstName<span class="token punctuation">:</span> <span class="token string">'Jennifer'</span><span class="token punctuation">,</span> lastName<span class="token punctuation">:</span> <span class="token string">'Lawrence'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>firstName<span class="token punctuation">:</span> <span class="token string">'Bradley'</span><span class="token punctuation">,</span> lastName<span class="token punctuation">:</span> <span class="token string">'Cooper'</span><span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>actors<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>firstName<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>actors<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>firstName<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>You can also give raw expressions and subqueries as values like this:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> raw <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'objection'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">await</span> Person
  <span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    age<span class="token punctuation">:</span> Person<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">avg</span><span class="token punctuation">(</span><span class="token string">'age'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    firstName<span class="token punctuation">:</span> <span class="token function">raw</span><span class="token punctuation">(</span><span class="token string">&quot;'Jenni' || 'fer'&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Fields marked as <code>extras</code> for many-to-many relations in <a href="/objection.js/new-docs/api/model/static-properties.html#static-relationmappings">relationMappings</a> are automatically
written to the join table instead of the target table. The <code>someExtra</code> field in the following example is written
to the join table if the <code>extra</code> array of the relation mapping contains the string <code>'someExtra'</code>.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> jennifer <span class="token operator">=</span> <span class="token keyword">await</span> someMovie
  <span class="token punctuation">.</span><span class="token function">$relatedQuery</span><span class="token punctuation">(</span><span class="token string">'actors'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    firstName<span class="token punctuation">:</span> <span class="token string">'Jennifer'</span><span class="token punctuation">,</span>
    lastName<span class="token punctuation">:</span> <span class="token string">'Lawrence'</span><span class="token punctuation">,</span>
    someExtra<span class="token punctuation">:</span> <span class="token string">&quot;I'll be written to the join table&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>jennifer<span class="token punctuation">.</span>someExtra<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="insertandfetch"><a href="#insertandfetch" aria-hidden="true" class="header-anchor">#</a> insertAndFetch()</h3> <div class="language-js extra-class"><pre class="language-js"><code>queryBuilder <span class="token operator">=</span> queryBuilder<span class="token punctuation">.</span><span class="token function">insertAndFetch</span><span class="token punctuation">(</span>modelsOrObjects<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Just like <a href="/objection.js/new-docs/api/query-builder/instance-methods.html#insert">insert</a> but also fetches the item afterwards.</p> <p>Note that on postgresql you can just chain <a href="/objection.js/new-docs/api/query-builder/instance-methods.html#returning">returning('*')</a> to the normal insert query to get the same result without an additional query. See <a href="/objection.js/new-docs/recipes/returning-tricks.html">this recipe</a> for some examples.</p> <h5 id="arguments-5"><a href="#arguments-5" aria-hidden="true" class="header-anchor">#</a> Arguments</h5> <table><thead><tr><th>Argument</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>modelsOrObjects</td> <td>Object | <a href="/objection.js/new-docs/api/model/">Model</a> | Object[] | <a href="/objection.js/new-docs/api/model/">Model</a>[]</td> <td>Objects to insert</td></tr></tbody></table> <h5 id="return-value-5"><a href="#return-value-5" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h3 id="insertgraph"><a href="#insertgraph" aria-hidden="true" class="header-anchor">#</a> insertGraph()</h3> <div class="language-js extra-class"><pre class="language-js"><code>queryBuilder <span class="token operator">=</span> queryBuilder<span class="token punctuation">.</span><span class="token function">insertGraph</span><span class="token punctuation">(</span>graph<span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>See the <a href="/objection.js/new-docs/guide/query-examples.html#graph-inserts">section about graph inserts</a>.</p> <h5 id="arguments-6"><a href="#arguments-6" aria-hidden="true" class="header-anchor">#</a> Arguments</h5> <table><thead><tr><th>Argument</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>graph</td> <td>Object | <a href="/objection.js/new-docs/api/model/">Model</a> | Object[] | <a href="/objection.js/new-docs/api/model/">Model</a>[]</td> <td>Objects to insert</td></tr> <tr><td>options</td> <td><a href="/objection.js/new-docs/api/types/#type-insertgraphoptions">InsertGraphOptions</a></td> <td>Optional options.</td></tr></tbody></table> <h5 id="return-value-6"><a href="#return-value-6" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h3 id="insertgraphandfetch"><a href="#insertgraphandfetch" aria-hidden="true" class="header-anchor">#</a> insertGraphAndFetch()</h3> <p>Exactly like <a href="/objection.js/new-docs/api/query-builder/instance-methods.html#insertgraph">insertGraph</a> but also fetches the graph from the db after insert. Note that on postgres, you can simply chain <a href="/objection.js/new-docs/api/query-builder/instance-methods.html#returning">returning('*')</a> to the normal <code>insertGraph</code> query to get the same result without additional queries.</p> <h3 id="insertwithrelated"><a href="#insertwithrelated" aria-hidden="true" class="header-anchor">#</a> insertWithRelated()</h3> <div class="warning custom-block"><p class="custom-block-title">WARNING</p> <p>Deprecated! Will be removed in version 2.0.</p></div> <p>Alias for <a href="/objection.js/new-docs/api/query-builder/instance-methods.html#insertgraph">insertGraph</a>.</p> <h3 id="insertwithrelatedandfetch"><a href="#insertwithrelatedandfetch" aria-hidden="true" class="header-anchor">#</a> insertWithRelatedAndFetch()</h3> <div class="warning custom-block"><p class="custom-block-title">WARNING</p> <p>Deprecated! Will be removed in version 2.0.</p></div> <p>Alias for <a href="/objection.js/new-docs/api/query-builder/instance-methods.html#insertgraphandfetch">insertGraphAndFetch</a>.</p> <h3 id="patch"><a href="#patch" aria-hidden="true" class="header-anchor">#</a> patch()</h3> <div class="language-js extra-class"><pre class="language-js"><code>queryBuilder <span class="token operator">=</span> queryBuilder<span class="token punctuation">.</span><span class="token function">patch</span><span class="token punctuation">(</span>modelOrObject<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Creates a patch query.</p> <p>The patch object is validated against the model's <a href="/objection.js/new-docs/api/model/static-properties.html#static-jsonschema">jsonSchema</a> (if one is defined) <em>but</em> the <code>required</code> property of the <a href="/objection.js/new-docs/api/model/static-properties.html#static-jsonschema">jsonSchema</a> is ignored. This way the properties in the patch object are still validated but an error isn't thrown if the patch object doesn't contain all required properties.</p> <p>If validation fails the Promise is rejected with a <a href="/objection.js/new-docs/api/types/#class-validationerror">ValidationError</a>.</p> <p>The return value of the query will be the number of affected rows. If you want to update a single row and retrieve the updated row as a result, you may want to use the <a href="/objection.js/new-docs/api/query-builder/instance-methods.html#patchandfetchbyid">patchAndFetchById</a> method or <em>take a look at <a href="/objection.js/new-docs/recipes/returning-tricks.html">this recipe</a> if you're using Postgres</em>.</p> <div class="tip custom-block"><p class="custom-block-title">TIP</p> <p>This generates an SQL <code>update</code> query. While there's also the <a href="/objection.js/new-docs/api/query-builder/instance-methods.html#update">update</a> method, <code>patch</code> is what you want to use most of the time for updates. Read both methods' documentation carefully. If unsure or hate reading, use <code>patch</code> to update stuff 😄</p></div> <div class="warning custom-block"><p class="custom-block-title">WARNING</p> <p><a href="/objection.js/new-docs/api/objection/#raw">raw</a>, <a href="/objection.js/new-docs/api/objection/#lit">lit</a>, subqueries and other &quot;query properties&quot; in the patch object are not validated. Also fields specified using <a href="/objection.js/new-docs/api/types/#type-fieldexpression">FieldExpressions</a> are not validated.</p></div> <h5 id="arguments-7"><a href="#arguments-7" aria-hidden="true" class="header-anchor">#</a> Arguments</h5> <table><thead><tr><th>Argument</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>modelOrObject</td> <td>Object | <a href="/objection.js/new-docs/api/model/">Model</a></td> <td>The patch object</td></tr></tbody></table> <h5 id="return-value-7"><a href="#return-value-7" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h5 id="examples-5"><a href="#examples-5" aria-hidden="true" class="header-anchor">#</a> Examples</h5> <p>Patching a single row:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> numberOfAffectedRows <span class="token operator">=</span> <span class="token keyword">await</span> Person
  <span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">patch</span><span class="token punctuation">(</span><span class="token punctuation">{</span> age<span class="token punctuation">:</span> <span class="token number">24</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">findById</span><span class="token punctuation">(</span>personId<span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>numberOfAffectedRows<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Patching multiple rows:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> numberOfAffectedRows <span class="token operator">=</span> <span class="token keyword">await</span> Person
  <span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">patch</span><span class="token punctuation">(</span><span class="token punctuation">{</span> age<span class="token punctuation">:</span> <span class="token number">20</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token string">'age'</span><span class="token punctuation">,</span> <span class="token string">'&lt;'</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>
</code></pre></div><p>Increment a value atomically:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> numberOfAffectedRows <span class="token operator">=</span> <span class="token keyword">await</span> Person
  <span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">patch</span><span class="token punctuation">(</span><span class="token punctuation">{</span> age<span class="token punctuation">:</span> <span class="token function">raw</span><span class="token punctuation">(</span><span class="token string">'age + 1'</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token string">'age'</span><span class="token punctuation">,</span> <span class="token string">'&lt;'</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>
</code></pre></div><p>You can also give raw expressions, subqueries and <code>ref()</code> as values and <a href="/objection.js/new-docs/api/types/#type-fieldexpression">FieldExpressions</a> as keys. Note that none of these are validated. Objection cannot know what their values will be at the time the validation is done.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> ref<span class="token punctuation">,</span> raw <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'objection'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">await</span> Person
  <span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">patch</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    age<span class="token punctuation">:</span> Person<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">avg</span><span class="token punctuation">(</span><span class="token string">'age'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// You can use knex.raw instead of `raw()` if</span>
    <span class="token comment">// you prefer.</span>
    firstName<span class="token punctuation">:</span> <span class="token function">raw</span><span class="token punctuation">(</span><span class="token string">&quot;'Jenni' || 'fer'&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    oldLastName<span class="token punctuation">:</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">'lastName'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// This updates a value nested deep inside a</span>
    <span class="token comment">// json column `detailsJsonColumn`.</span>
    <span class="token string">'detailsJsonColumn:address.street'</span><span class="token punctuation">:</span> <span class="token string">'Elm street'</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="patchandfetchbyid"><a href="#patchandfetchbyid" aria-hidden="true" class="header-anchor">#</a> patchAndFetchById()</h3> <div class="language-js extra-class"><pre class="language-js"><code>queryBuilder <span class="token operator">=</span> queryBuilder<span class="token punctuation">.</span><span class="token function">patchAndFetchById</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span> modelOrObject<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Just like <a href="/objection.js/new-docs/api/query-builder/instance-methods.html#patch">patch</a> for a single item, but also fetches the updated row from the database afterwards.</p> <h5 id="arguments-8"><a href="#arguments-8" aria-hidden="true" class="header-anchor">#</a> Arguments</h5> <table><thead><tr><th>Argument</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>id</td> <td>any</td> <td>Identifier of the item to update. Can be a composite key.</td></tr> <tr><td>modelOrObject</td> <td>Object | <a href="/objection.js/new-docs/api/model/">Model</a></td> <td>The patch object</td></tr></tbody></table> <h5 id="return-value-8"><a href="#return-value-8" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h5 id="examples-6"><a href="#examples-6" aria-hidden="true" class="header-anchor">#</a> Examples</h5> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> updatedPerson <span class="token operator">=</span> <span class="token keyword">await</span> Person
  <span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">patchAndFetchById</span><span class="token punctuation">(</span><span class="token number">134</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> age<span class="token punctuation">:</span> <span class="token number">24</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>updatedPerson<span class="token punctuation">.</span>firstName<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="patchandfetch"><a href="#patchandfetch" aria-hidden="true" class="header-anchor">#</a> patchAndFetch()</h3> <div class="language-js extra-class"><pre class="language-js"><code>queryBuilder <span class="token operator">=</span> queryBuilder<span class="token punctuation">.</span><span class="token function">patchAndFetchById</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span> modelOrObject<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Just like <a href="/objection.js/new-docs/api/query-builder/instance-methods.html#patchandfetchbyid">patchAndFetchById</a> but can be used in an instance <a href="/objection.js/new-docs/api/model/instance-methods.html#query">$query</a> without the need to specify the id.</p> <h5 id="arguments-9"><a href="#arguments-9" aria-hidden="true" class="header-anchor">#</a> Arguments</h5> <table><thead><tr><th>Argument</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>modelOrObject</td> <td>Object | <a href="/objection.js/new-docs/api/model/">Model</a></td> <td>The patch object</td></tr></tbody></table> <h5 id="return-value-9"><a href="#return-value-9" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h5 id="examples-7"><a href="#examples-7" aria-hidden="true" class="header-anchor">#</a> Examples</h5> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> jennifer <span class="token operator">=</span> <span class="token keyword">await</span> Person<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">findOne</span><span class="token punctuation">(</span><span class="token punctuation">{</span> firstName<span class="token punctuation">:</span> <span class="token string">'Jennifer'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> updatedJennifer <span class="token operator">=</span> <span class="token keyword">await</span> jennifer<span class="token punctuation">.</span><span class="token function">$query</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">patchAndFetch</span><span class="token punctuation">(</span><span class="token punctuation">{</span> age<span class="token punctuation">:</span> <span class="token number">24</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>updatedJennifer<span class="token punctuation">.</span>firstName<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="update"><a href="#update" aria-hidden="true" class="header-anchor">#</a> update()</h3> <div class="language-js extra-class"><pre class="language-js"><code>queryBuilder <span class="token operator">=</span> queryBuilder<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>modelOrObject<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Creates an update query.</p> <p>The update object is validated against the model's <a href="/objection.js/new-docs/api/model/static-properties.html#static-jsonschema">jsonSchema</a>. If validation fails the Promise is rejected with a <a href="/objection.js/new-docs/api/types/#class-validationerror">ValidationError</a>.</p> <p>Use <code>update</code> if you update the whole row with all it's columns. Otherwise, using the <a href="/objection.js/new-docs/api/query-builder/instance-methods.html#patch">patch</a> method is recommended. When <code>update</code> method is used, the validation respects the schema's <code>required</code> properties and throws a <a href="/objection.js/new-docs/api/types/#class-validationerror">ValidationError</a> if any of them are missing. <a href="/objection.js/new-docs/api/query-builder/instance-methods.html#patch">patch</a> ignores the <code>required</code> properties and only validates the ones thate are found.</p> <p>The return value of the query will be the number of affected rows. If you want to update a single row and retrieve the updated row as a result, you may want to use the <a href="/objection.js/new-docs/api/query-builder/instance-methods.html#updateandfetchbyid">updateAndFetchById</a> method or <em>take a look at <a href="/objection.js/new-docs/recipes/returning-tricks.html">this recipe</a> if you're using Postgres</em>.</p> <h5 id="arguments-10"><a href="#arguments-10" aria-hidden="true" class="header-anchor">#</a> Arguments</h5> <table><thead><tr><th>Argument</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>modelOrObject</td> <td>Object | <a href="/objection.js/new-docs/api/model/">Model</a></td> <td>The update object</td></tr></tbody></table> <h5 id="return-value-10"><a href="#return-value-10" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h5 id="examples-8"><a href="#examples-8" aria-hidden="true" class="header-anchor">#</a> Examples</h5> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> numberOfAffectedRows <span class="token operator">=</span> <span class="token keyword">await</span> Person
  <span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">{</span>firstName<span class="token punctuation">:</span> <span class="token string">'Jennifer'</span><span class="token punctuation">,</span> lastName<span class="token punctuation">:</span> <span class="token string">'Lawrence'</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token number">24</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token string">'id'</span><span class="token punctuation">,</span> <span class="token number">134</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>numberOfAffectedRows<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>You can also give raw expressions, subqueries and <code>ref()</code> as values like this:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> raw<span class="token punctuation">,</span> ref <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'objection'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">await</span> Person
  <span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    firstName<span class="token punctuation">:</span> <span class="token function">raw</span><span class="token punctuation">(</span><span class="token string">&quot;'Jenni' || 'fer'&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    lastName<span class="token punctuation">:</span> <span class="token string">'Lawrence'</span><span class="token punctuation">,</span>
    age<span class="token punctuation">:</span> Person<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">avg</span><span class="token punctuation">(</span><span class="token string">'age'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    oldLastName<span class="token punctuation">:</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">'lastName'</span><span class="token punctuation">)</span> <span class="token comment">// same as knex.raw('??', ['lastName'])</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Updating single value inside json column and referring attributes inside json columns (only with postgres) etc.:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">await</span> Person
  <span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    lastName<span class="token punctuation">:</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">'someJsonColumn:mother.lastName'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">castText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token string">'detailsJsonColumn:address.street'</span><span class="token punctuation">:</span> <span class="token string">'Elm street'</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="updateandfetchbyid"><a href="#updateandfetchbyid" aria-hidden="true" class="header-anchor">#</a> updateAndFetchById()</h3> <div class="language-js extra-class"><pre class="language-js"><code>queryBuilder <span class="token operator">=</span> queryBuilder<span class="token punctuation">.</span><span class="token function">updateAndFetchById</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span> modelOrObject<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Just like <a href="/objection.js/new-docs/api/query-builder/instance-methods.html#update">update</a> for a single item, but also fetches the updated row from the database afterwards.</p> <h5 id="arguments-11"><a href="#arguments-11" aria-hidden="true" class="header-anchor">#</a> Arguments</h5> <table><thead><tr><th>Argument</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>id</td> <td>any</td> <td>Identifier of the item to update. Can be a composite key.</td></tr> <tr><td>modelOrObject</td> <td>Object | <a href="/objection.js/new-docs/api/model/">Model</a></td> <td>The update object</td></tr></tbody></table> <h5 id="return-value-11"><a href="#return-value-11" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h5 id="examples-9"><a href="#examples-9" aria-hidden="true" class="header-anchor">#</a> Examples</h5> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> updatedPerson <span class="token operator">=</span> <span class="token keyword">await</span> Person
  <span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">updateAndFetchById</span><span class="token punctuation">(</span><span class="token number">134</span><span class="token punctuation">,</span> person<span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>updatedPerson<span class="token punctuation">.</span>firstName<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="updateandfetch"><a href="#updateandfetch" aria-hidden="true" class="header-anchor">#</a> updateAndFetch()</h3> <div class="language-js extra-class"><pre class="language-js"><code>queryBuilder <span class="token operator">=</span> queryBuilder<span class="token punctuation">.</span><span class="token function">updateAndFetchById</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span> modelOrObject<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Just like <a href="/objection.js/new-docs/api/query-builder/instance-methods.html#updateandfetchbyid">updateAndFetchById</a> but can be used in an instance <a href="/objection.js/new-docs/api/model/instance-methods.html#query">$query</a> without the need to specify the id.</p> <h5 id="arguments-12"><a href="#arguments-12" aria-hidden="true" class="header-anchor">#</a> Arguments</h5> <table><thead><tr><th>Argument</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>modelOrObject</td> <td>Object | <a href="/objection.js/new-docs/api/model/">Model</a></td> <td>The update object</td></tr></tbody></table> <h5 id="return-value-12"><a href="#return-value-12" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h5 id="examples-10"><a href="#examples-10" aria-hidden="true" class="header-anchor">#</a> Examples</h5> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> jennifer <span class="token operator">=</span> <span class="token keyword">await</span> Person<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">findOne</span><span class="token punctuation">(</span><span class="token punctuation">{</span> firstName<span class="token punctuation">:</span> <span class="token string">'Jennifer'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> updatedJennifer <span class="token operator">=</span> <span class="token keyword">await</span> jennifer<span class="token punctuation">.</span><span class="token function">$query</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">updateAndFetch</span><span class="token punctuation">(</span><span class="token punctuation">{</span> age<span class="token punctuation">:</span> <span class="token number">24</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>updatedJennifer<span class="token punctuation">.</span>firstName<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="upsertgraph"><a href="#upsertgraph" aria-hidden="true" class="header-anchor">#</a> upsertGraph()</h3> <div class="language-js extra-class"><pre class="language-js"><code>queryBuilder <span class="token operator">=</span> queryBuilder<span class="token punctuation">.</span><span class="token function">upsertGraph</span><span class="token punctuation">(</span>graph<span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>See the <a href="/objection.js/new-docs/guide/query-examples.html#graph-upserts">section about graph upserts</a></p> <h5 id="arguments-13"><a href="#arguments-13" aria-hidden="true" class="header-anchor">#</a> Arguments</h5> <table><thead><tr><th>Argument</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>graph</td> <td>Object | <a href="/objection.js/new-docs/api/model/">Model</a> | Object[] | <a href="/objection.js/new-docs/api/model/">Model</a>[]</td> <td>Objects to upsert</td></tr> <tr><td>options</td> <td><a href="/objection.js/new-docs/api/types/#type-upsertgraphoptions">UpsertGraphOptions</a></td> <td>Optional options.</td></tr></tbody></table> <h5 id="return-value-13"><a href="#return-value-13" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h3 id="upsertgraphandfetch"><a href="#upsertgraphandfetch" aria-hidden="true" class="header-anchor">#</a> upsertGraphAndFetch()</h3> <p>Exactly like <a href="/objection.js/new-docs/api/query-builder/instance-methods.html#upsertgraph">upsertGraph</a> but also fetches the graph from the db after the upsert operation.</p> <h3 id="delete"><a href="#delete" aria-hidden="true" class="header-anchor">#</a> delete()</h3> <div class="language-js extra-class"><pre class="language-js"><code>queryBuilder <span class="token operator">=</span> queryBuilder<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Creates a delete query.</p> <p>The return value of the query will be the number of deleted rows. if you're using Postgres
and want to get the deleted rows, <em>take a look at <a href="/objection.js/new-docs/recipes/returning-tricks.html">this recipe</a></em>.</p> <p>Also see <a href="/objection.js/new-docs/api/query-builder/instance-methods.html#deletebyid">deleteById</a>.</p> <h5 id="return-value-14"><a href="#return-value-14" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h5 id="examples-11"><a href="#examples-11" aria-hidden="true" class="header-anchor">#</a> Examples</h5> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> numberOfDeletedRows <span class="token operator">=</span> <span class="token keyword">await</span> Person
  <span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token string">'age'</span><span class="token punctuation">,</span> <span class="token string">'&gt;'</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'removed'</span><span class="token punctuation">,</span> numberOfDeletedRows<span class="token punctuation">,</span> <span class="token string">'people'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>You can always use subqueries and all query building methods with <code>delete</code> queries, just like with every query in objection. With some databases, you cannot use joins with deletes (db restriction, not objection). You can replace joins with subqueries like this:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// This query deletes all people that have a pet named &quot;Fluffy&quot;.</span>
<span class="token keyword">await</span> Person
  <span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">whereIn</span><span class="token punctuation">(</span>
    <span class="token string">'id'</span><span class="token punctuation">,</span>
    Person<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">'persons.id'</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">joinRelation</span><span class="token punctuation">(</span><span class="token string">'pets'</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token string">'pets.name'</span><span class="token punctuation">,</span> <span class="token string">'Fluffy'</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// This is another way to implement the same query.</span>
<span class="token keyword">await</span> Person
  <span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">whereExists</span><span class="token punctuation">(</span>
    Person<span class="token punctuation">.</span><span class="token function">relatedQuery</span><span class="token punctuation">(</span><span class="token string">'pets'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token string">'pets.name'</span><span class="token punctuation">,</span> <span class="token string">'Fluffy'</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Delete can of course be used in with <a href="/objection.js/new-docs/api/model/instance-methods.html#relatedquery">$relatedQuery</a> and <a href="/objection.js/new-docs/api/model/instance-methods.html#query">$query</a>.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token keyword">await</span> Person<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">findById</span><span class="token punctuation">(</span>personId<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Delete all pets but cats and dogs of a person.</span>
<span class="token keyword">await</span> person
  <span class="token punctuation">.</span><span class="token function">$relatedQuery</span><span class="token punctuation">(</span><span class="token string">'pets'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">whereNotIn</span><span class="token punctuation">(</span><span class="token string">'species'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'cat'</span><span class="token punctuation">,</span> <span class="token string">'dog'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Delete all pets of a person.</span>
<span class="token keyword">await</span> person
  <span class="token punctuation">.</span><span class="token function">$relatedQuery</span><span class="token punctuation">(</span><span class="token string">'pets'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="deletebyid"><a href="#deletebyid" aria-hidden="true" class="header-anchor">#</a> deleteById()</h3> <div class="language-js extra-class"><pre class="language-js"><code>queryBuilder <span class="token operator">=</span> queryBuilder<span class="token punctuation">.</span><span class="token function">deleteById</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Deletes an item by id.</p> <p>The return value of the query will be the number of deleted rows. if you're using Postgres and want to get the deleted rows, <em>take a look at <a href="/objection.js/new-docs/recipes/returning-tricks.html">this recipe</a></em>.</p> <h5 id="arguments-14"><a href="#arguments-14" aria-hidden="true" class="header-anchor">#</a> Arguments</h5> <table><thead><tr><th>Argument</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>id</td> <td>any | any[]</td> <td>The id. Array for composite keys. This method doesn't accept multiple identifiers! See the examples below.</td></tr></tbody></table> <h5 id="return-value-15"><a href="#return-value-15" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h5 id="examples-12"><a href="#examples-12" aria-hidden="true" class="header-anchor">#</a> Examples</h5> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> numberOfDeletedRows <span class="token operator">=</span> <span class="token keyword">await</span> Person
  <span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">deleteById</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'removed'</span><span class="token punctuation">,</span> numberOfDeletedRows<span class="token punctuation">,</span> <span class="token string">'people'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Delete single item with a composite key:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> numberOfDeletedRows <span class="token operator">=</span> <span class="token keyword">await</span> Person
  <span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">deleteById</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token string">'20'</span><span class="token punctuation">,</span> <span class="token number">46</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'removed'</span><span class="token punctuation">,</span> numberOfDeletedRows<span class="token punctuation">,</span> <span class="token string">'people'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="relate"><a href="#relate" aria-hidden="true" class="header-anchor">#</a> relate()</h3> <div class="language-js extra-class"><pre class="language-js"><code>queryBuilder <span class="token operator">=</span> queryBuilder<span class="token punctuation">.</span><span class="token function">relate</span><span class="token punctuation">(</span>ids<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Relate (attach) an existing item to another item.</p> <p>This method doesn't create a new item but only updates the foreign keys. In
the case of a many-to-many relation, creates a join row to the join table.</p> <p>On Postgres multiple items can be related by giving an array of identifiers.</p> <h5 id="arguments-15"><a href="#arguments-15" aria-hidden="true" class="header-anchor">#</a> Arguments</h5> <table><thead><tr><th>Argument</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>ids</td> <td>number | string | Array | Object</td> <td>Identifier(s) of the model(s) to relate</td></tr></tbody></table> <h5 id="return-value-16"><a href="#return-value-16" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h5 id="examples-13"><a href="#examples-13" aria-hidden="true" class="header-anchor">#</a> Examples</h5> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token keyword">await</span> Person
  <span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">findById</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> numRelatedRows <span class="token operator">=</span> <span class="token keyword">await</span> person<span class="token punctuation">.</span><span class="token function">$relatedQuery</span><span class="token punctuation">(</span><span class="token string">'movies'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">relate</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'movie 50 is now related to person 123 through `movies` relation'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Relate multiple (only works with postgres)</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> numRelatedRows <span class="token operator">=</span> <span class="token keyword">await</span> person
  <span class="token punctuation">.</span><span class="token function">$relatedQuery</span><span class="token punctuation">(</span><span class="token string">'movies'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">relate</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">70</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>numRelatedRows<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> rows were related`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Composite key</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> numRelatedRows <span class="token operator">=</span> <span class="token keyword">await</span> person
  <span class="token punctuation">.</span><span class="token function">$relatedQuery</span><span class="token punctuation">(</span><span class="token string">'movies'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">relate</span><span class="token punctuation">(</span><span class="token punctuation">{</span>foo<span class="token punctuation">:</span> <span class="token number">50</span><span class="token punctuation">,</span> bar<span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">,</span> baz<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>numRelatedRows<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> rows were related`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Fields marked as <a href="/objection.js/new-docs/api/types/#type-relationthrough">extras</a> for many-to-many relations in <a href="/objection.js/new-docs/api/model/static-properties.html#static-relationmappings">relationMappings</a> are automatically written to the join table. The <code>someExtra</code> field in the following example is written to the join table if the <code>extra</code> array of the relation mapping contains the string <code>'someExtra'</code>.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> numRelatedRows <span class="token operator">=</span> <span class="token keyword">await</span> someMovie
  <span class="token punctuation">.</span><span class="token function">$relatedQuery</span><span class="token punctuation">(</span><span class="token string">'actors'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">relate</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    id<span class="token punctuation">:</span> <span class="token number">50</span><span class="token punctuation">,</span>
    someExtra<span class="token punctuation">:</span> <span class="token string">&quot;I'll be written to the join table&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>numRelatedRows<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> rows were related`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="unrelate"><a href="#unrelate" aria-hidden="true" class="header-anchor">#</a> unrelate()</h3> <div class="language-js extra-class"><pre class="language-js"><code>queryBuilder <span class="token operator">=</span> queryBuilder<span class="token punctuation">.</span><span class="token function">unrelate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Remove (detach) a connection between two rows.</p> <p>Doesn't delete the rows. Only removes the connection. For ManyToMany relations this
deletes the join row from the join table. For other relation types this sets the
join columns to null.</p> <p>Note that, unlike for <code>relate</code>, you shouldn't pass arguments for the <code>unrelate</code> method.
Use <code>unrelate</code> like <code>delete</code> and filter the rows using the returned query builder.</p> <h5 id="return-value-17"><a href="#return-value-17" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h5 id="examples-14"><a href="#examples-14" aria-hidden="true" class="header-anchor">#</a> Examples</h5> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token keyword">await</span> Person
  <span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">findById</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> numUnrelatedRows <span class="token operator">=</span> <span class="token keyword">await</span> person<span class="token punctuation">.</span><span class="token function">$relatedQuery</span><span class="token punctuation">(</span><span class="token string">'movies'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">unrelate</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token string">'id'</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'movie 50 is no longer related to person 123 through `movies` relation'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="alias"><a href="#alias" aria-hidden="true" class="header-anchor">#</a> alias()</h3> <div class="language-js extra-class"><pre class="language-js"><code>queryBuilder <span class="token operator">=</span> queryBuilder<span class="token punctuation">.</span><span class="token function">alias</span><span class="token punctuation">(</span>alias<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Give an alias for the table to be used in the query.</p> <h5 id="arguments-16"><a href="#arguments-16" aria-hidden="true" class="header-anchor">#</a> Arguments</h5> <table><thead><tr><th>Argument</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>alias</td> <td>string</td> <td>Table alias for the query.</td></tr></tbody></table> <h5 id="return-value-18"><a href="#return-value-18" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h5 id="examples-15"><a href="#examples-15" aria-hidden="true" class="header-anchor">#</a> Examples</h5> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">await</span> Person
  <span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">alias</span><span class="token punctuation">(</span><span class="token string">'p'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token string">'p.id'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">'persons as parent'</span><span class="token punctuation">,</span> <span class="token string">'parent.id'</span><span class="token punctuation">,</span> <span class="token string">'p.parentId'</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="aliasfor"><a href="#aliasfor" aria-hidden="true" class="header-anchor">#</a> aliasFor()</h3> <div class="language-js extra-class"><pre class="language-js"><code>queryBuilder <span class="token operator">=</span> queryBuilder<span class="token punctuation">.</span><span class="token function">aliasFor</span><span class="token punctuation">(</span>tableNameOrModelClass<span class="token punctuation">,</span> alias<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Give an alias for any table in the query.</p> <h5 id="arguments-17"><a href="#arguments-17" aria-hidden="true" class="header-anchor">#</a> Arguments</h5> <table><thead><tr><th>Argument</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>tableNameOrModelClass</td> <td>string | ModelClass</td> <td>The table or model class to alias.</td></tr> <tr><td>alias</td> <td>string</td> <td>The alias.</td></tr></tbody></table> <h5 id="return-value-19"><a href="#return-value-19" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h5 id="examples-16"><a href="#examples-16" aria-hidden="true" class="header-anchor">#</a> Examples</h5> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// This query uses joinRelation to join a many-to-many relation which also joins</span>
<span class="token comment">// the join table `persons_movies`. We specify that the `persons_movies` table</span>
<span class="token comment">// should be called `pm` instead of the default `movies_join`.</span>
<span class="token keyword">await</span> person
  <span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">aliasFor</span><span class="token punctuation">(</span><span class="token string">'persons_movies'</span><span class="token punctuation">,</span> <span class="token string">'pm'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">joinRelation</span><span class="token punctuation">(</span><span class="token string">'movies'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token string">'pm.someProp'</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
</code></pre></div><p>Model class can be used instead of table name</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">await</span> Person
  <span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">aliasFor</span><span class="token punctuation">(</span>Movie<span class="token punctuation">,</span> <span class="token string">'m'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">joinRelation</span><span class="token punctuation">(</span><span class="token string">'movies'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token string">'m.name'</span><span class="token punctuation">,</span> <span class="token string">'The Room'</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="increment"><a href="#increment" aria-hidden="true" class="header-anchor">#</a> increment()</h3> <p>See <a href="http://knexjs.org/#Builder-increment" target="_blank" rel="noopener noreferrer">knex documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h5 id="return-value-20"><a href="#return-value-20" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h3 id="decrement"><a href="#decrement" aria-hidden="true" class="header-anchor">#</a> decrement()</h3> <p>See <a href="http://knexjs.org/#Builder-decrement" target="_blank" rel="noopener noreferrer">knex documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h5 id="return-value-21"><a href="#return-value-21" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h3 id="select"><a href="#select" aria-hidden="true" class="header-anchor">#</a> select()</h3> <p>See <a href="http://knexjs.org/#Builder-select" target="_blank" rel="noopener noreferrer">knex documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h5 id="return-value-22"><a href="#return-value-22" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h3 id="forupdate"><a href="#forupdate" aria-hidden="true" class="header-anchor">#</a> forUpdate()</h3> <p>See <a href="http://knexjs.org/#Builder-forUpdate" target="_blank" rel="noopener noreferrer">knex documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h5 id="return-value-23"><a href="#return-value-23" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h3 id="forshare"><a href="#forshare" aria-hidden="true" class="header-anchor">#</a> forShare()</h3> <p>See <a href="http://knexjs.org/#Builder-forShare" target="_blank" rel="noopener noreferrer">knex documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h5 id="return-value-24"><a href="#return-value-24" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h3 id="timeout"><a href="#timeout" aria-hidden="true" class="header-anchor">#</a> timeout()</h3> <p>See <a href="http://knexjs.org/#Builder-timeout" target="_blank" rel="noopener noreferrer">knex documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h5 id="return-value-25"><a href="#return-value-25" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h3 id="as"><a href="#as" aria-hidden="true" class="header-anchor">#</a> as()</h3> <p>See <a href="http://knexjs.org/#Builder-as" target="_blank" rel="noopener noreferrer">knex documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h5 id="return-value-26"><a href="#return-value-26" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h3 id="columns"><a href="#columns" aria-hidden="true" class="header-anchor">#</a> columns()</h3> <p>See <a href="http://knexjs.org/#Builder-columns" target="_blank" rel="noopener noreferrer">knex documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h5 id="return-value-27"><a href="#return-value-27" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h3 id="column"><a href="#column" aria-hidden="true" class="header-anchor">#</a> column()</h3> <p>See <a href="http://knexjs.org/#Builder-column" target="_blank" rel="noopener noreferrer">knex documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h5 id="return-value-28"><a href="#return-value-28" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h3 id="from"><a href="#from" aria-hidden="true" class="header-anchor">#</a> from()</h3> <p>See <a href="http://knexjs.org/#Builder-from" target="_blank" rel="noopener noreferrer">knex documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h5 id="return-value-29"><a href="#return-value-29" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h3 id="into"><a href="#into" aria-hidden="true" class="header-anchor">#</a> into()</h3> <p>See <a href="http://knexjs.org/#Builder-into" target="_blank" rel="noopener noreferrer">knex documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h5 id="return-value-30"><a href="#return-value-30" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h3 id="with"><a href="#with" aria-hidden="true" class="header-anchor">#</a> with()</h3> <p>See <a href="http://knexjs.org/#Builder-with" target="_blank" rel="noopener noreferrer">knex documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h5 id="return-value-31"><a href="#return-value-31" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h3 id="withschema"><a href="#withschema" aria-hidden="true" class="header-anchor">#</a> withSchema()</h3> <p>See <a href="http://knexjs.org/#Builder-withSchema" target="_blank" rel="noopener noreferrer">knex documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h5 id="return-value-32"><a href="#return-value-32" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h3 id="table"><a href="#table" aria-hidden="true" class="header-anchor">#</a> table()</h3> <p>See <a href="http://knexjs.org/#Builder-table" target="_blank" rel="noopener noreferrer">knex documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h5 id="return-value-33"><a href="#return-value-33" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h3 id="distinct"><a href="#distinct" aria-hidden="true" class="header-anchor">#</a> distinct()</h3> <p>See <a href="http://knexjs.org/#Builder-distinct" target="_blank" rel="noopener noreferrer">knex documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h5 id="return-value-34"><a href="#return-value-34" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h3 id="join"><a href="#join" aria-hidden="true" class="header-anchor">#</a> join()</h3> <p>See <a href="http://knexjs.org/#Builder-join" target="_blank" rel="noopener noreferrer">knex documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h5 id="return-value-35"><a href="#return-value-35" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h3 id="joinraw"><a href="#joinraw" aria-hidden="true" class="header-anchor">#</a> joinRaw()</h3> <p>See <a href="http://knexjs.org/#Builder-joinRaw" target="_blank" rel="noopener noreferrer">knex documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h5 id="return-value-36"><a href="#return-value-36" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h3 id="innerjoin"><a href="#innerjoin" aria-hidden="true" class="header-anchor">#</a> innerJoin()</h3> <p>See <a href="http://knexjs.org/#Builder-innerJoin" target="_blank" rel="noopener noreferrer">knex documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h5 id="return-value-37"><a href="#return-value-37" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h3 id="leftjoin"><a href="#leftjoin" aria-hidden="true" class="header-anchor">#</a> leftJoin()</h3> <p>See <a href="http://knexjs.org/#Builder-leftJoin" target="_blank" rel="noopener noreferrer">knex documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h5 id="return-value-38"><a href="#return-value-38" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h3 id="leftouterjoin"><a href="#leftouterjoin" aria-hidden="true" class="header-anchor">#</a> leftOuterJoin()</h3> <p>See <a href="http://knexjs.org/#Builder-leftOuterJoin" target="_blank" rel="noopener noreferrer">knex documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h5 id="return-value-39"><a href="#return-value-39" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h3 id="rightjoin"><a href="#rightjoin" aria-hidden="true" class="header-anchor">#</a> rightJoin()</h3> <p>See <a href="http://knexjs.org/#Builder-rightJoin" target="_blank" rel="noopener noreferrer">knex documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h5 id="return-value-40"><a href="#return-value-40" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h3 id="rightouterjoin"><a href="#rightouterjoin" aria-hidden="true" class="header-anchor">#</a> rightOuterJoin()</h3> <p>See <a href="http://knexjs.org/#Builder-rightOuterJoin" target="_blank" rel="noopener noreferrer">knex documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h5 id="return-value-41"><a href="#return-value-41" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h3 id="outerjoin"><a href="#outerjoin" aria-hidden="true" class="header-anchor">#</a> outerJoin()</h3> <p>See <a href="http://knexjs.org/#Builder-outerJoin" target="_blank" rel="noopener noreferrer">knex documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h5 id="return-value-42"><a href="#return-value-42" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h3 id="fullouterjoin"><a href="#fullouterjoin" aria-hidden="true" class="header-anchor">#</a> fullOuterJoin()</h3> <p>See <a href="http://knexjs.org/#Builder-fullOuterJoin" target="_blank" rel="noopener noreferrer">knex documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h5 id="return-value-43"><a href="#return-value-43" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h3 id="crossjoin"><a href="#crossjoin" aria-hidden="true" class="header-anchor">#</a> crossJoin()</h3> <p>See <a href="http://knexjs.org/#Builder-crossJoin" target="_blank" rel="noopener noreferrer">knex documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h5 id="return-value-44"><a href="#return-value-44" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h3 id="joinrelation"><a href="#joinrelation" aria-hidden="true" class="header-anchor">#</a> joinRelation()</h3> <div class="language-js extra-class"><pre class="language-js"><code>queryBuilder <span class="token operator">=</span> queryBuilder<span class="token punctuation">.</span><span class="token function">joinRelation</span><span class="token punctuation">(</span>relationExpression<span class="token punctuation">,</span> opt<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Joins a set of relations described by <code>relationExpression</code>. See the examples for more info.</p> <h5 id="arguments-18"><a href="#arguments-18" aria-hidden="true" class="header-anchor">#</a> Arguments</h5> <table><thead><tr><th>Argument</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>relationExpression</td> <td><a href="/objection.js/new-docs/api/types/#type-relationexpression">RelationExpression</a></td> <td>An expression describing which relations to join.</td></tr> <tr><td>opt</td> <td>object</td> <td>Optional options. See the examples.</td></tr></tbody></table> <h5 id="return-value-45"><a href="#return-value-45" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h5 id="examples-17"><a href="#examples-17" aria-hidden="true" class="header-anchor">#</a> Examples</h5> <p>Join one relation:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">await</span> Person
  <span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">joinRelation</span><span class="token punctuation">(</span><span class="token string">'pets'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token string">'pets.species'</span><span class="token punctuation">,</span> <span class="token string">'dog'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Give an alias for a single relation:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">await</span> Person
  <span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">joinRelation</span><span class="token punctuation">(</span><span class="token string">'pets'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> alias<span class="token punctuation">:</span> <span class="token string">'p'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token string">'p.species'</span><span class="token punctuation">,</span> <span class="token string">'dog'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Join two relations:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">await</span> Person
  <span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">joinRelation</span><span class="token punctuation">(</span><span class="token string">'[pets, parent]'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token string">'pets.species'</span><span class="token punctuation">,</span> <span class="token string">'dog'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token string">'parent.name'</span><span class="token punctuation">,</span> <span class="token string">'Arnold'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>You can also use the <a href="/objection.js/new-docs/api/types/#relationexpression-object-notation">object notation</a></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">await</span> Person
  <span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">joinRelation</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    pets<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    parent<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token string">'pets.species'</span><span class="token punctuation">,</span> <span class="token string">'dog'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token string">'parent.name'</span><span class="token punctuation">,</span> <span class="token string">'Arnold'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Join two multiple and nested relations. Note that when referring to nested relations <code>:</code> must be used as a separator instead of <code>.</code>. This limitation comes from the way knex parses table references.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">await</span> Person
  <span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">'persons.id'</span><span class="token punctuation">,</span> <span class="token string">'parent:parent.name as grandParentName'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">joinRelation</span><span class="token punctuation">(</span><span class="token string">'[pets, parent.[pets, parent]]'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token string">'parent:pets.species'</span><span class="token punctuation">,</span> <span class="token string">'dog'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Give aliases for a bunch of relations:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">await</span> Person
  <span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">'persons.id'</span><span class="token punctuation">,</span> <span class="token string">'pr:pr.name as grandParentName'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">joinRelation</span><span class="token punctuation">(</span><span class="token string">'[pets, parent.[pets, parent]]'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    aliases<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      parent<span class="token punctuation">:</span> <span class="token string">'pr'</span><span class="token punctuation">,</span>
      pets<span class="token punctuation">:</span> <span class="token string">'pt'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token string">'pr:pt.species'</span><span class="token punctuation">,</span> <span class="token string">'dog'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="innerjoinrelation"><a href="#innerjoinrelation" aria-hidden="true" class="header-anchor">#</a> innerJoinRelation()</h3> <p>Alias for <a href="/objection.js/new-docs/api/query-builder/instance-methods.html#joinrelation">joinRelation</a>.</p> <h3 id="outerjoinrelation"><a href="#outerjoinrelation" aria-hidden="true" class="header-anchor">#</a> outerJoinRelation()</h3> <p>Outer join version of the <a href="/objection.js/new-docs/api/query-builder/instance-methods.html#joinrelation">joinRelation</a> method.</p> <h3 id="leftjoinrelation"><a href="#leftjoinrelation" aria-hidden="true" class="header-anchor">#</a> leftJoinRelation()</h3> <p>Left join version of the <a href="/objection.js/new-docs/api/query-builder/instance-methods.html#joinrelation">joinRelation</a> method.</p> <h3 id="leftouterjoinrelation"><a href="#leftouterjoinrelation" aria-hidden="true" class="header-anchor">#</a> leftOuterJoinRelation()</h3> <p>Left outer join version of the <a href="/objection.js/new-docs/api/query-builder/instance-methods.html#joinrelation">joinRelation</a> method.</p> <h3 id="rightjoinrelation"><a href="#rightjoinrelation" aria-hidden="true" class="header-anchor">#</a> rightJoinRelation()</h3> <p>Right join version of the <a href="/objection.js/new-docs/api/query-builder/instance-methods.html#joinrelation">joinRelation</a> method.</p> <h3 id="rightouterjoinrelation"><a href="#rightouterjoinrelation" aria-hidden="true" class="header-anchor">#</a> rightOuterJoinRelation()</h3> <p>Left outer join version of the <a href="/objection.js/new-docs/api/query-builder/instance-methods.html#joinrelation">joinRelation</a> method.</p> <h3 id="fullouterjoinrelation"><a href="#fullouterjoinrelation" aria-hidden="true" class="header-anchor">#</a> fullOuterJoinRelation()</h3> <p>Full outer join version of the <a href="/objection.js/new-docs/api/query-builder/instance-methods.html#joinrelation">joinRelation</a> method.</p> <h3 id="where"><a href="#where" aria-hidden="true" class="header-anchor">#</a> where</h3> <p>See <a href="http://knexjs.org/#Builder-where" target="_blank" rel="noopener noreferrer">knex documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h5 id="return-value-46"><a href="#return-value-46" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h3 id="andwhere"><a href="#andwhere" aria-hidden="true" class="header-anchor">#</a> andWhere()</h3> <p>See <a href="http://knexjs.org/#Builder-where" target="_blank" rel="noopener noreferrer">knex documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h5 id="return-value-47"><a href="#return-value-47" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h3 id="orwhere"><a href="#orwhere" aria-hidden="true" class="header-anchor">#</a> orWhere()</h3> <p>See <a href="http://knexjs.org/#Builder-where" target="_blank" rel="noopener noreferrer">knex documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h5 id="return-value-48"><a href="#return-value-48" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h3 id="wherenot"><a href="#wherenot" aria-hidden="true" class="header-anchor">#</a> whereNot()</h3> <p>See <a href="http://knexjs.org/#Builder-where" target="_blank" rel="noopener noreferrer">knex documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h5 id="return-value-49"><a href="#return-value-49" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h3 id="orwherenot"><a href="#orwherenot" aria-hidden="true" class="header-anchor">#</a> orWhereNot()</h3> <p>See <a href="http://knexjs.org/#Builder-where" target="_blank" rel="noopener noreferrer">knex documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h5 id="return-value-50"><a href="#return-value-50" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h3 id="whereraw"><a href="#whereraw" aria-hidden="true" class="header-anchor">#</a> whereRaw()</h3> <p>See <a href="http://knexjs.org/#Builder-whereRaw" target="_blank" rel="noopener noreferrer">knex documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h5 id="return-value-51"><a href="#return-value-51" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h3 id="wherewrapped"><a href="#wherewrapped" aria-hidden="true" class="header-anchor">#</a> whereWrapped()</h3> <p>See <a href="http://knexjs.org/#Builder-wheres" target="_blank" rel="noopener noreferrer">knex documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h5 id="return-value-52"><a href="#return-value-52" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h3 id="havingwrapped"><a href="#havingwrapped" aria-hidden="true" class="header-anchor">#</a> havingWrapped()</h3> <p>See <a href="http://knexjs.org/#Builder-having" target="_blank" rel="noopener noreferrer">knex documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h5 id="return-value-53"><a href="#return-value-53" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h3 id="orwhereraw"><a href="#orwhereraw" aria-hidden="true" class="header-anchor">#</a> orWhereRaw()</h3> <p>See <a href="http://knexjs.org/#Builder-whereRaw" target="_blank" rel="noopener noreferrer">knex documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h5 id="return-value-54"><a href="#return-value-54" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h3 id="whereexists"><a href="#whereexists" aria-hidden="true" class="header-anchor">#</a> whereExists()</h3> <p>See <a href="http://knexjs.org/#Builder-whereExists" target="_blank" rel="noopener noreferrer">knex documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h5 id="return-value-55"><a href="#return-value-55" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h3 id="orwhereexists"><a href="#orwhereexists" aria-hidden="true" class="header-anchor">#</a> orWhereExists()</h3> <p>See <a href="http://knexjs.org/#Builder-whereExists" target="_blank" rel="noopener noreferrer">knex documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h5 id="return-value-56"><a href="#return-value-56" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h3 id="wherenotexists"><a href="#wherenotexists" aria-hidden="true" class="header-anchor">#</a> whereNotExists()</h3> <p>See <a href="http://knexjs.org/#Builder-whereNotExists" target="_blank" rel="noopener noreferrer">knex documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h5 id="return-value-57"><a href="#return-value-57" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h3 id="orwherenotexists"><a href="#orwherenotexists" aria-hidden="true" class="header-anchor">#</a> orWhereNotExists()</h3> <p>See <a href="http://knexjs.org/#Builder-whereNotExists" target="_blank" rel="noopener noreferrer">knex documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h5 id="return-value-58"><a href="#return-value-58" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h3 id="wherein"><a href="#wherein" aria-hidden="true" class="header-anchor">#</a> whereIn()</h3> <p>See <a href="http://knexjs.org/#Builder-whereIn" target="_blank" rel="noopener noreferrer">knex documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h5 id="return-value-59"><a href="#return-value-59" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h3 id="orwherein"><a href="#orwherein" aria-hidden="true" class="header-anchor">#</a> orWhereIn()</h3> <p>See <a href="http://knexjs.org/#Builder-whereIn" target="_blank" rel="noopener noreferrer">knex documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h5 id="return-value-60"><a href="#return-value-60" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h3 id="wherenotin"><a href="#wherenotin" aria-hidden="true" class="header-anchor">#</a> whereNotIn()</h3> <p>See <a href="http://knexjs.org/#Builder-whereNotIn" target="_blank" rel="noopener noreferrer">knex documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h5 id="return-value-61"><a href="#return-value-61" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h3 id="orwherenotin"><a href="#orwherenotin" aria-hidden="true" class="header-anchor">#</a> orWhereNotIn()</h3> <p>See <a href="http://knexjs.org/#Builder-whereNotIn" target="_blank" rel="noopener noreferrer">knex documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h5 id="return-value-62"><a href="#return-value-62" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h3 id="wherenull"><a href="#wherenull" aria-hidden="true" class="header-anchor">#</a> whereNull()</h3> <p>See <a href="http://knexjs.org/#Builder-whereNull" target="_blank" rel="noopener noreferrer">knex documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h5 id="return-value-63"><a href="#return-value-63" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h3 id="orwherenull"><a href="#orwherenull" aria-hidden="true" class="header-anchor">#</a> orWhereNull()</h3> <p>See <a href="http://knexjs.org/#Builder-whereNull" target="_blank" rel="noopener noreferrer">knex documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h5 id="return-value-64"><a href="#return-value-64" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h3 id="wherenotnull"><a href="#wherenotnull" aria-hidden="true" class="header-anchor">#</a> whereNotNull()</h3> <p>See <a href="http://knexjs.org/#Builder-whereNotNull" target="_blank" rel="noopener noreferrer">knex documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h5 id="return-value-65"><a href="#return-value-65" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h3 id="orwherenotnull"><a href="#orwherenotnull" aria-hidden="true" class="header-anchor">#</a> orWhereNotNull()</h3> <p>See <a href="http://knexjs.org/#Builder-whereNotNull" target="_blank" rel="noopener noreferrer">knex documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h5 id="return-value-66"><a href="#return-value-66" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h3 id="wherebetween"><a href="#wherebetween" aria-hidden="true" class="header-anchor">#</a> whereBetween()</h3> <p>See <a href="http://knexjs.org/#Builder-whereBetween" target="_blank" rel="noopener noreferrer">knex documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h5 id="return-value-67"><a href="#return-value-67" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h3 id="wherenotbetween"><a href="#wherenotbetween" aria-hidden="true" class="header-anchor">#</a> whereNotBetween()</h3> <p>See <a href="http://knexjs.org/#Builder-whereNotBetween" target="_blank" rel="noopener noreferrer">knex documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h5 id="return-value-68"><a href="#return-value-68" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h3 id="orwherebetween"><a href="#orwherebetween" aria-hidden="true" class="header-anchor">#</a> orWhereBetween()</h3> <p>See <a href="http://knexjs.org/#Builder-whereBetween" target="_blank" rel="noopener noreferrer">knex documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h5 id="return-value-69"><a href="#return-value-69" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h3 id="orwherenotbetween"><a href="#orwherenotbetween" aria-hidden="true" class="header-anchor">#</a> orWhereNotBetween()</h3> <p>See <a href="http://knexjs.org/#Builder-whereNotBetween" target="_blank" rel="noopener noreferrer">knex documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h5 id="return-value-70"><a href="#return-value-70" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h3 id="groupby"><a href="#groupby" aria-hidden="true" class="header-anchor">#</a> groupBy()</h3> <p>See <a href="http://knexjs.org/#Builder-groupBy" target="_blank" rel="noopener noreferrer">knex documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h5 id="return-value-71"><a href="#return-value-71" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h3 id="groupbyraw"><a href="#groupbyraw" aria-hidden="true" class="header-anchor">#</a> groupByRaw()</h3> <p>See <a href="http://knexjs.org/#Builder-groupByRaw" target="_blank" rel="noopener noreferrer">knex documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h5 id="return-value-72"><a href="#return-value-72" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h3 id="orderby"><a href="#orderby" aria-hidden="true" class="header-anchor">#</a> orderBy()</h3> <p>See <a href="http://knexjs.org/#Builder-orderBy" target="_blank" rel="noopener noreferrer">knex documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h5 id="return-value-73"><a href="#return-value-73" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h3 id="orderbyraw"><a href="#orderbyraw" aria-hidden="true" class="header-anchor">#</a> orderByRaw()</h3> <p>See <a href="http://knexjs.org/#Builder-orderByRaw" target="_blank" rel="noopener noreferrer">knex documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h5 id="return-value-74"><a href="#return-value-74" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h3 id="union"><a href="#union" aria-hidden="true" class="header-anchor">#</a> union()</h3> <p>See <a href="http://knexjs.org/#Builder-union" target="_blank" rel="noopener noreferrer">knex documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h5 id="return-value-75"><a href="#return-value-75" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h3 id="unionall"><a href="#unionall" aria-hidden="true" class="header-anchor">#</a> unionAll()</h3> <p>See <a href="http://knexjs.org/#Builder-unionAll" target="_blank" rel="noopener noreferrer">knex documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h5 id="return-value-76"><a href="#return-value-76" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h3 id="having"><a href="#having" aria-hidden="true" class="header-anchor">#</a> having()</h3> <p>See <a href="http://knexjs.org/#Builder-having" target="_blank" rel="noopener noreferrer">knex documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h5 id="return-value-77"><a href="#return-value-77" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h3 id="havingraw"><a href="#havingraw" aria-hidden="true" class="header-anchor">#</a> havingRaw()</h3> <p>See <a href="http://knexjs.org/#Builder-havingRaw" target="_blank" rel="noopener noreferrer">knex documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h5 id="return-value-78"><a href="#return-value-78" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h3 id="orhaving"><a href="#orhaving" aria-hidden="true" class="header-anchor">#</a> orHaving()</h3> <p>See <a href="http://knexjs.org/#Builder-having" target="_blank" rel="noopener noreferrer">knex documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h5 id="return-value-79"><a href="#return-value-79" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h3 id="orhavingraw"><a href="#orhavingraw" aria-hidden="true" class="header-anchor">#</a> orHavingRaw()</h3> <p>See <a href="http://knexjs.org/#Builder-havingRaw" target="_blank" rel="noopener noreferrer">knex documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h5 id="return-value-80"><a href="#return-value-80" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h3 id="offset"><a href="#offset" aria-hidden="true" class="header-anchor">#</a> offset()</h3> <p>See <a href="http://knexjs.org/#Builder-offset" target="_blank" rel="noopener noreferrer">knex documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h5 id="return-value-81"><a href="#return-value-81" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h3 id="limit"><a href="#limit" aria-hidden="true" class="header-anchor">#</a> limit()</h3> <p>See <a href="http://knexjs.org/#Builder-limit" target="_blank" rel="noopener noreferrer">knex documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h5 id="return-value-82"><a href="#return-value-82" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h3 id="count"><a href="#count" aria-hidden="true" class="header-anchor">#</a> count()</h3> <p>See <a href="http://knexjs.org/#Builder-count" target="_blank" rel="noopener noreferrer">knex documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h5 id="return-value-83"><a href="#return-value-83" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h3 id="countdistinct"><a href="#countdistinct" aria-hidden="true" class="header-anchor">#</a> countDistinct()</h3> <p>See <a href="http://knexjs.org/#Builder-count" target="_blank" rel="noopener noreferrer">knex documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h5 id="return-value-84"><a href="#return-value-84" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h3 id="min"><a href="#min" aria-hidden="true" class="header-anchor">#</a> min()</h3> <p>See <a href="http://knexjs.org/#Builder-min" target="_blank" rel="noopener noreferrer">knex documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h5 id="return-value-85"><a href="#return-value-85" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h3 id="max"><a href="#max" aria-hidden="true" class="header-anchor">#</a> max()</h3> <p>See <a href="http://knexjs.org/#Builder-max" target="_blank" rel="noopener noreferrer">knex documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h5 id="return-value-86"><a href="#return-value-86" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h3 id="sum"><a href="#sum" aria-hidden="true" class="header-anchor">#</a> sum()</h3> <p>See <a href="http://knexjs.org/#Builder-sum" target="_blank" rel="noopener noreferrer">knex documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h5 id="return-value-87"><a href="#return-value-87" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h3 id="avg"><a href="#avg" aria-hidden="true" class="header-anchor">#</a> avg()</h3> <p>See <a href="http://knexjs.org/#Builder-avg" target="_blank" rel="noopener noreferrer">knex documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h5 id="return-value-88"><a href="#return-value-88" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h3 id="avgdistinct"><a href="#avgdistinct" aria-hidden="true" class="header-anchor">#</a> avgDistinct()</h3> <p>See <a href="http://knexjs.org/#Builder-avg" target="_blank" rel="noopener noreferrer">knex documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h5 id="return-value-89"><a href="#return-value-89" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h3 id="debug"><a href="#debug" aria-hidden="true" class="header-anchor">#</a> debug()</h3> <p>See <a href="http://knexjs.org/#Builder-debug" target="_blank" rel="noopener noreferrer">knex documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h5 id="return-value-90"><a href="#return-value-90" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h3 id="returning"><a href="#returning" aria-hidden="true" class="header-anchor">#</a> returning()</h3> <p>See <a href="http://knexjs.org/#Builder-returning" target="_blank" rel="noopener noreferrer">knex documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h5 id="return-value-91"><a href="#return-value-91" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h3 id="truncate"><a href="#truncate" aria-hidden="true" class="header-anchor">#</a> truncate()</h3> <p>See <a href="http://knexjs.org/#Builder-truncate" target="_blank" rel="noopener noreferrer">knex documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h5 id="return-value-92"><a href="#return-value-92" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h3 id="connection"><a href="#connection" aria-hidden="true" class="header-anchor">#</a> connection()</h3> <p>See <a href="http://knexjs.org/#Builder-connection" target="_blank" rel="noopener noreferrer">knex documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h5 id="return-value-93"><a href="#return-value-93" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table> <h3 id="modify"><a href="#modify" aria-hidden="true" class="header-anchor">#</a> modify()</h3> <p>Works like <code>knex</code>'s <a href="http://knexjs.org/#Builder-modify" target="_blank" rel="noopener noreferrer">modify<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> function but in addition you can specify model <a href="/objection.js/new-docs/api/model/static-properties.html#static-modifiers">modifier</a> by providing modifier names.</p> <p>See <a href="http://knexjs.org/#Builder-modify" target="_blank" rel="noopener noreferrer">knex documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h5 id="arguments-19"><a href="#arguments-19" aria-hidden="true" class="header-anchor">#</a> Arguments</h5> <table><thead><tr><th>Argument</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>modifier</td> <td>function(<a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a>) | string | string[]</td> <td>The modify callback function, receiving the builder as its first argument, followed by the optional arguments. If a string is provided, the corresponding <a href="/objection.js/new-docs/api/model/static-properties.html#static-modifiers">modifier</a> is executed instead.</td></tr> <tr><td>*arguments</td> <td>...any</td> <td>The optional arguments passed to the modify function</td></tr></tbody></table> <h5 id="return-value-94"><a href="#return-value-94" aria-hidden="true" class="header-anchor">#</a> Return value</h5> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><a href="/objection.js/new-docs/api/query-builder/" class="router-link-active">QueryBuilder</a></td> <td><code>this</code> query builder for chaining.</td></tr></tbody></table></div> <div class="page-edit"><!----> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/objection.js/new-docs/api/query-builder/static-methods.html" class="prev">
          Static Methods
        </a></span> <!----></p></div> </div> <!----></div></div>
    <script src="/objection.js/new-docs/assets/js/app.4e2e77f5.js" defer></script><script src="/objection.js/new-docs/assets/js/14.97c5feaa.js" defer></script>
  </body>
</html>
