(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{224:function(t,a,e){"use strict";e.r(a);var s=e(0),r=Object(s.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"other-methods"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#other-methods","aria-hidden":"true"}},[t._v("#")]),t._v(" Other Methods")]),t._v(" "),e("h2",{attrs:{id:"debug"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#debug","aria-hidden":"true"}},[t._v("#")]),t._v(" debug()")]),t._v(" "),e("p",[t._v("See "),e("a",{attrs:{href:"http://knexjs.org/#Builder-debug",target:"_blank",rel:"noopener noreferrer"}},[t._v("knex documentation"),e("OutboundLink")],1)]),t._v(" "),e("h5",{attrs:{id:"return-value"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#return-value","aria-hidden":"true"}},[t._v("#")]),t._v(" Return value")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[e("router-link",{attrs:{to:"/api/query-builder/"}},[t._v("QueryBuilder")])],1),t._v(" "),e("td",[e("code",[t._v("this")]),t._v(" query builder for chaining.")])])])]),t._v(" "),e("h2",{attrs:{id:"context"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#context","aria-hidden":"true"}},[t._v("#")]),t._v(" context()")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("queryBuilder "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" queryBuilder"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("context")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("queryContext"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("Sets/gets the query context.")]),t._v(" "),e("p",[t._v("Some query builder methods create more than one query. The query context is an object that is shared with all queries started by a query builder.")]),t._v(" "),e("p",[t._v("The context is also passed to "),e("router-link",{attrs:{to:"/api/model/instance-methods.html#beforeinsert"}},[t._v("$beforeInsert")]),t._v(", "),e("router-link",{attrs:{to:"/api/model/instance-methods.html#afterinsert"}},[t._v("$afterInsert")]),t._v(", "),e("router-link",{attrs:{to:"/api/model/instance-methods.html#beforeupdate"}},[t._v("$beforeUpdate")]),t._v(", "),e("router-link",{attrs:{to:"/api/model/instance-methods.html#afterupdate"}},[t._v("$afterUpdate")]),t._v(", "),e("router-link",{attrs:{to:"/api/model/instance-methods.html#beforedelete"}},[t._v("$beforeDelete")]),t._v(", "),e("router-link",{attrs:{to:"/api/model/instance-methods.html#afterdelete"}},[t._v("$afterDelete")]),t._v(" and "),e("router-link",{attrs:{to:"/api/model/instance-methods.html#afterget"}},[t._v("$afterGet")]),t._v(" calls that the query creates.")],1),t._v(" "),e("p",[t._v("In addition to properties added using this method (and "),e("router-link",{attrs:{to:"/api/query-builder/other-methods.html#mergecontext"}},[t._v("mergeContext")]),t._v(") the query context object always has a "),e("code",[t._v("transaction")]),t._v(" property that holds the active transaction. If there is no active transaction the "),e("code",[t._v("transaction")]),t._v(" property contains the normal knex instance. In both cases the value can be passed anywhere where a transaction object can be passed so you never need to check for the existence of the "),e("code",[t._v("transaction")]),t._v(" property.")],1),t._v(" "),e("p",[t._v("See the methods "),e("router-link",{attrs:{to:"/api/query-builder/other-methods.html#runbefore"}},[t._v("runBefore")]),t._v(", "),e("router-link",{attrs:{to:"/api/query-builder/other-methods.html#onbuild"}},[t._v("onBuild")]),t._v(" and "),e("router-link",{attrs:{to:"/api/query-builder/other-methods.html#runafter"}},[t._v("runAfter")]),t._v("\nfor more information about the hooks.")],1),t._v(" "),e("div",{staticClass:"tip custom-block"},[e("p",[t._v("Most of the time, you should be using "),e("router-link",{attrs:{to:"/api/query-builder/other-methods.html#mergecontext"}},[t._v("mergeContext")]),t._v(" instead of this method. This method replaces the whole context, while "),e("code",[t._v("mergeContext")]),t._v(" merges the values with the current ones.")],1)]),t._v(" "),e("h5",{attrs:{id:"arguments"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#arguments","aria-hidden":"true"}},[t._v("#")]),t._v(" Arguments")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Argument")]),t._v(" "),e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("queryContext")]),t._v(" "),e("td",[t._v("Object")]),t._v(" "),e("td",[t._v("The query context object")])])])]),t._v(" "),e("h5",{attrs:{id:"return-value-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#return-value-2","aria-hidden":"true"}},[t._v("#")]),t._v(" Return value")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[e("router-link",{attrs:{to:"/api/query-builder/"}},[t._v("QueryBuilder")])],1),t._v(" "),e("td",[e("code",[t._v("this")]),t._v(" query builder for chaining.")])])])]),t._v(" "),e("h5",{attrs:{id:"examples"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#examples","aria-hidden":"true"}},[t._v("#")]),t._v(" Examples")]),t._v(" "),e("p",[t._v("You can set the context like this:")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" Person\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("query")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("context")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("something"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hello'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("and access the context like this:")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" context "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" builder"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("context")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("You can set any data to the context object. You can also register QueryBuilder lifecycle methods for "),e("em",[t._v("all")]),t._v(" queries that share the context:")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("Person\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("query")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("context")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("runBefore")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("result"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" builder")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" result"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("runAfter")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("result"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" builder")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" result"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("onBuild")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("builder")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("For example the "),e("code",[t._v("eager")]),t._v(" method causes multiple queries to be executed from a single query builder. If you wanted to make all of them use the same schema you could write this:")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("Person\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("query")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("eager")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'[movies, children.movies]'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("context")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("onBuild")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("builder")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      builder"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("withSchema")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'someSchema'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("h2",{attrs:{id:"mergecontext"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mergecontext","aria-hidden":"true"}},[t._v("#")]),t._v(" mergeContext()")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("queryBuilder "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" queryBuilder"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("mergeContext")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("queryContext"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("Merges values into the query context.")]),t._v(" "),e("p",[t._v("This method is like "),e("router-link",{attrs:{to:"/api/query-builder/other-methods.html#context"}},[t._v("context")]),t._v(" but instead of replacing the whole context this method merges the objects.")],1),t._v(" "),e("h5",{attrs:{id:"arguments-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#arguments-2","aria-hidden":"true"}},[t._v("#")]),t._v(" Arguments")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Argument")]),t._v(" "),e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("queryContext")]),t._v(" "),e("td",[t._v("Object")]),t._v(" "),e("td",[t._v("The object to merge into the query context.")])])])]),t._v(" "),e("h5",{attrs:{id:"return-value-3"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#return-value-3","aria-hidden":"true"}},[t._v("#")]),t._v(" Return value")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[e("router-link",{attrs:{to:"/api/query-builder/"}},[t._v("QueryBuilder")])],1),t._v(" "),e("td",[e("code",[t._v("this")]),t._v(" query builder for chaining.")])])])]),t._v(" "),e("h2",{attrs:{id:"tablenamefor"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#tablenamefor","aria-hidden":"true"}},[t._v("#")]),t._v(" tableNameFor()")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" tableName "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" queryBuilder"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("tableNameFor")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("modelClass"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("Returns the table name for a given model class in the query. Usually the table name can be fetched through "),e("code",[t._v("Model.tableName")]),t._v(" but if the source table has been changed for example using the "),e("router-link",{attrs:{to:"/api/query-builder/find-methods.html#table"}},[t._v("QueryBuilder#table")]),t._v(" method "),e("code",[t._v("tableNameFor")]),t._v(" will return the correct value.")],1),t._v(" "),e("h5",{attrs:{id:"arguments-3"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#arguments-3","aria-hidden":"true"}},[t._v("#")]),t._v(" Arguments")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Argument")]),t._v(" "),e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("modelClass")]),t._v(" "),e("td",[t._v("function")]),t._v(" "),e("td",[t._v("A model class.")])])])]),t._v(" "),e("h5",{attrs:{id:"return-value-4"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#return-value-4","aria-hidden":"true"}},[t._v("#")]),t._v(" Return value")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("string")]),t._v(" "),e("td",[t._v("The source table (or view) name for "),e("code",[t._v("modelClass")]),t._v(".")])])])]),t._v(" "),e("h2",{attrs:{id:"tablereffor"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#tablereffor","aria-hidden":"true"}},[t._v("#")]),t._v(" tableRefFor()")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" tableRef "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" queryBuilder"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("tableRefFor")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("modelClass"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("Returns the name that should be used to refer to the "),e("code",[t._v("modelClass")]),t._v("'s table in the query.\nUsually a table can be referred to using its name, but "),e("code",[t._v("tableRefFor")]),t._v(" can return a different\nvalue for example in case an alias has been given.")]),t._v(" "),e("h5",{attrs:{id:"arguments-4"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#arguments-4","aria-hidden":"true"}},[t._v("#")]),t._v(" Arguments")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Argument")]),t._v(" "),e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("modelClass")]),t._v(" "),e("td",[t._v("function")]),t._v(" "),e("td",[t._v("A model class.")])])])]),t._v(" "),e("h5",{attrs:{id:"return-value-5"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#return-value-5","aria-hidden":"true"}},[t._v("#")]),t._v(" Return value")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("string")]),t._v(" "),e("td",[t._v("The name that should be used to refer to a table in the query.")])])])]),t._v(" "),e("h2",{attrs:{id:"reject"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#reject","aria-hidden":"true"}},[t._v("#")]),t._v(" reject()")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("queryBuilder "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" queryBuilder"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("reject")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("reason"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v('Skips the database query and "fakes" an error result.')]),t._v(" "),e("h5",{attrs:{id:"arguments-5"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#arguments-5","aria-hidden":"true"}},[t._v("#")]),t._v(" Arguments")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Argument")]),t._v(" "),e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("reson")]),t._v(" "),e("td"),t._v(" "),e("td",[t._v("The rejection reason")])])])]),t._v(" "),e("h5",{attrs:{id:"return-value-6"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#return-value-6","aria-hidden":"true"}},[t._v("#")]),t._v(" Return value")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[e("router-link",{attrs:{to:"/api/query-builder/"}},[t._v("QueryBuilder")])],1),t._v(" "),e("td",[e("code",[t._v("this")]),t._v(" query builder for chaining.")])])])]),t._v(" "),e("h2",{attrs:{id:"resolve"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#resolve","aria-hidden":"true"}},[t._v("#")]),t._v(" resolve()")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("queryBuilder "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" queryBuilder"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v('Skips the database query and "fakes" a result.')]),t._v(" "),e("h5",{attrs:{id:"arguments-6"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#arguments-6","aria-hidden":"true"}},[t._v("#")]),t._v(" Arguments")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Argument")]),t._v(" "),e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("value")]),t._v(" "),e("td"),t._v(" "),e("td",[t._v("The resolve value")])])])]),t._v(" "),e("h5",{attrs:{id:"return-value-7"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#return-value-7","aria-hidden":"true"}},[t._v("#")]),t._v(" Return value")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[e("router-link",{attrs:{to:"/api/query-builder/"}},[t._v("QueryBuilder")])],1),t._v(" "),e("td",[e("code",[t._v("this")]),t._v(" query builder for chaining.")])])])]),t._v(" "),e("h2",{attrs:{id:"isexecutable"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#isexecutable","aria-hidden":"true"}},[t._v("#")]),t._v(" isExecutable()")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" isExecutable "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" queryBuilder"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("isExecutable")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("Returns false if this query will never be executed.")]),t._v(" "),e("p",[t._v("This may be true in multiple cases:")]),t._v(" "),e("ol",[e("li",[t._v("The query is explicitly resolved or rejected using the "),e("router-link",{attrs:{to:"/api/query-builder/other-methods.html#resolve"}},[t._v("resolve")]),t._v(" or "),e("router-link",{attrs:{to:"/api/query-builder/other-methods.html#reject"}},[t._v("reject")]),t._v(" methods.")],1),t._v(" "),e("li",[t._v("The query starts a different query when it is executed.")])]),t._v(" "),e("h5",{attrs:{id:"return-value-8"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#return-value-8","aria-hidden":"true"}},[t._v("#")]),t._v(" Return value")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("boolean")]),t._v(" "),e("td",[t._v("false if the query will never be executed.")])])])]),t._v(" "),e("h2",{attrs:{id:"isfind"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#isfind","aria-hidden":"true"}},[t._v("#")]),t._v(" isFind()")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" isFind "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" queryBuilder"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("isFind")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("Returns true if the query is read-only.")]),t._v(" "),e("h5",{attrs:{id:"return-value-9"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#return-value-9","aria-hidden":"true"}},[t._v("#")]),t._v(" Return value")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("boolean")]),t._v(" "),e("td",[t._v("true if the query is read-only.")])])])]),t._v(" "),e("h2",{attrs:{id:"isinsert"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#isinsert","aria-hidden":"true"}},[t._v("#")]),t._v(" isInsert()")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" isInsert "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" queryBuilder"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("isInsert")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("Returns true if the query performs an insert operation.")]),t._v(" "),e("h5",{attrs:{id:"return-value-10"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#return-value-10","aria-hidden":"true"}},[t._v("#")]),t._v(" Return value")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("boolean")]),t._v(" "),e("td",[t._v("true if the query performs an insert operation.")])])])]),t._v(" "),e("h2",{attrs:{id:"isupdate"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#isupdate","aria-hidden":"true"}},[t._v("#")]),t._v(" isUpdate()")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" isUpdate "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" queryBuilder"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("isUpdate")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("Returns true if the query performs an update or patch operation.")]),t._v(" "),e("h5",{attrs:{id:"return-value-11"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#return-value-11","aria-hidden":"true"}},[t._v("#")]),t._v(" Return value")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("boolean")]),t._v(" "),e("td",[t._v("true if the query performs an update or patch operation.")])])])]),t._v(" "),e("h2",{attrs:{id:"isdelete"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#isdelete","aria-hidden":"true"}},[t._v("#")]),t._v(" isDelete()")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" isDelete "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" queryBuilder"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("isDelete")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("Returns true if the query performs a delete operation.")]),t._v(" "),e("h5",{attrs:{id:"return-value-12"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#return-value-12","aria-hidden":"true"}},[t._v("#")]),t._v(" Return value")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("boolean")]),t._v(" "),e("td",[t._v("true if the query performs a delete operation.")])])])]),t._v(" "),e("h2",{attrs:{id:"isrelate"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#isrelate","aria-hidden":"true"}},[t._v("#")]),t._v(" isRelate()")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" isRelate "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" queryBuilder"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("isRelate")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("Returns true if the query performs a relate operation.")]),t._v(" "),e("h5",{attrs:{id:"return-value-13"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#return-value-13","aria-hidden":"true"}},[t._v("#")]),t._v(" Return value")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("boolean")]),t._v(" "),e("td",[t._v("true if the query performs a relate operation.")])])])]),t._v(" "),e("h2",{attrs:{id:"isunrelate"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#isunrelate","aria-hidden":"true"}},[t._v("#")]),t._v(" isUnrelate()")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" isUnrelate "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" queryBuilder"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("isUnrelate")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("Returns true if the query performs an unrelate operation.")]),t._v(" "),e("h5",{attrs:{id:"return-value-14"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#return-value-14","aria-hidden":"true"}},[t._v("#")]),t._v(" Return value")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("boolean")]),t._v(" "),e("td",[t._v("true if the query performs an unrelate operation.")])])])]),t._v(" "),e("h2",{attrs:{id:"isinternal"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#isinternal","aria-hidden":"true"}},[t._v("#")]),t._v(" isInternal()")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" isInternal "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" queryBuilder"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("isInternal")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v('Returns true for internal "helper" queries that are not directly\npart of the operation being executed. For example the '),e("code",[t._v("select")]),t._v(" queries\nperformed by "),e("code",[t._v("upsertGraph")]),t._v(" to get the current state of the graph are\ninternal queries.")]),t._v(" "),e("h5",{attrs:{id:"return-value-15"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#return-value-15","aria-hidden":"true"}},[t._v("#")]),t._v(" Return value")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("boolean")]),t._v(" "),e("td",[t._v("true if the query performs an internal helper operation.")])])])]),t._v(" "),e("h2",{attrs:{id:"haswheres"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#haswheres","aria-hidden":"true"}},[t._v("#")]),t._v(" hasWheres()")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" hasWheres "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" queryBuilder"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("hasWheres")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("Returns true if the query contains where statements.")]),t._v(" "),e("h5",{attrs:{id:"return-value-16"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#return-value-16","aria-hidden":"true"}},[t._v("#")]),t._v(" Return value")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("boolean")]),t._v(" "),e("td",[t._v("true if the query contains where statements.")])])])]),t._v(" "),e("h2",{attrs:{id:"hasselects"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#hasselects","aria-hidden":"true"}},[t._v("#")]),t._v(" hasSelects()")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" hasSelects "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" queryBuilder"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("hasSelects")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("Returns true if the query contains any specific select staments, such as:\n"),e("code",[t._v("'select'")]),t._v(", "),e("code",[t._v("'columns'")]),t._v(", "),e("code",[t._v("'column'")]),t._v(", "),e("code",[t._v("'distinct'")]),t._v(", "),e("code",[t._v("'count'")]),t._v(", "),e("code",[t._v("'countDistinct'")]),t._v(", "),e("code",[t._v("'min'")]),t._v(", "),e("code",[t._v("'max'")]),t._v(", "),e("code",[t._v("'sum'")]),t._v(", "),e("code",[t._v("'sumDistinct'")]),t._v(", "),e("code",[t._v("'avg'")]),t._v(", "),e("code",[t._v("'avgDistinct'")])]),t._v(" "),e("h5",{attrs:{id:"return-value-17"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#return-value-17","aria-hidden":"true"}},[t._v("#")]),t._v(" Return value")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("boolean")]),t._v(" "),e("td",[t._v("true if the query contains any specific select staments.")])])])]),t._v(" "),e("h2",{attrs:{id:"haseager"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#haseager","aria-hidden":"true"}},[t._v("#")]),t._v(" hasEager()")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" hasEager "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" queryBuilder"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("hasEager")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("Returns true if the query defines any eager expressions.")]),t._v(" "),e("h5",{attrs:{id:"return-value-18"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#return-value-18","aria-hidden":"true"}},[t._v("#")]),t._v(" Return value")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("boolean")]),t._v(" "),e("td",[t._v("true if the query defines any eager expressions.")])])])]),t._v(" "),e("h2",{attrs:{id:"has"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#has","aria-hidden":"true"}},[t._v("#")]),t._v(" has()")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" has "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" queryBuilder"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("has")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("selector"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("console"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Person"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("query")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("range")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("has")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'range'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("Returns true if the query defines an operation that matches the given selector.")]),t._v(" "),e("h5",{attrs:{id:"arguments-7"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#arguments-7","aria-hidden":"true"}},[t._v("#")]),t._v(" Arguments")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Argument")]),t._v(" "),e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("selector")]),t._v(" "),e("td",[t._v("string | RegExp")]),t._v(" "),e("td",[t._v("A name or regular expression to match all defined operations against.")])])])]),t._v(" "),e("h5",{attrs:{id:"return-value-19"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#return-value-19","aria-hidden":"true"}},[t._v("#")]),t._v(" Return value")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("boolean")]),t._v(" "),e("td",[t._v("true if the query defines an operation that matches the given selector.")])])])]),t._v(" "),e("h2",{attrs:{id:"clear"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#clear","aria-hidden":"true"}},[t._v("#")]),t._v(" clear()")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("queryBuilder "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" queryBuilder"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("clear")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("selector"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("Removes all operations in the query that match the given selector.")]),t._v(" "),e("h5",{attrs:{id:"arguments-8"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#arguments-8","aria-hidden":"true"}},[t._v("#")]),t._v(" Arguments")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Argument")]),t._v(" "),e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("selector")]),t._v(" "),e("td",[t._v("string | regexp")]),t._v(" "),e("td",[t._v("A name or regular expression to match all operations that are to be removed against.")])])])]),t._v(" "),e("h5",{attrs:{id:"return-value-20"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#return-value-20","aria-hidden":"true"}},[t._v("#")]),t._v(" Return value")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[e("router-link",{attrs:{to:"/api/query-builder/"}},[t._v("QueryBuilder")])],1),t._v(" "),e("td",[e("code",[t._v("this")]),t._v(" query builder for chaining.")])])])]),t._v(" "),e("h5",{attrs:{id:"examples-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#examples-2","aria-hidden":"true"}},[t._v("#")]),t._v(" Examples")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("console"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Person"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("query")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("orderBy")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'firstName'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("clear")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'orderBy'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("has")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'orderBy'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("h2",{attrs:{id:"runbefore"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#runbefore","aria-hidden":"true"}},[t._v("#")]),t._v(" runBefore()")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("queryBuilder "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" queryBuilder"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("runBefore")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("runBefore"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("Registers a function to be called before just the database query when the builder is executed. Multiple functions can be chained like "),e("code",[t._v("then")]),t._v(" methods of a promise.")]),t._v(" "),e("h5",{attrs:{id:"arguments-9"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#arguments-9","aria-hidden":"true"}},[t._v("#")]),t._v(" Arguments")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Argument")]),t._v(" "),e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("runBefore")]),t._v(" "),e("td",[t._v("function(result, "),e("router-link",{attrs:{to:"/api/query-builder/"}},[t._v("QueryBuilder")]),t._v(")")],1),t._v(" "),e("td",[t._v("The function to be executed. This function can be async. Note that it needs to return the result used for further processing in the chain of calls.")])])])]),t._v(" "),e("h5",{attrs:{id:"return-value-21"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#return-value-21","aria-hidden":"true"}},[t._v("#")]),t._v(" Return value")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[e("router-link",{attrs:{to:"/api/query-builder/"}},[t._v("QueryBuilder")])],1),t._v(" "),e("td",[e("code",[t._v("this")]),t._v(" query builder for chaining.")])])])]),t._v(" "),e("h5",{attrs:{id:"examples-3"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#examples-3","aria-hidden":"true"}},[t._v("#")]),t._v(" Examples")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" query "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Person"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("query")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nquery\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("runBefore")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("result")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hello 1'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" Promise"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("delay")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    console"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hello 2'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" result\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("runBefore")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("result")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hello 3'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" result\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" query"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// --\x3e hello 1")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// --\x3e hello 2")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// --\x3e hello 3")]),t._v("\n")])])]),e("h2",{attrs:{id:"onbuild"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#onbuild","aria-hidden":"true"}},[t._v("#")]),t._v(" onBuild()")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("queryBuilder "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" queryBuilder"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("onBuild")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("onBuild"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("Functions registered with this method are called each time the query is built into an SQL string. This method is ran after "),e("router-link",{attrs:{to:"/api/query-builder/other-methods.html#runbefore"}},[t._v("runBefore")]),t._v(" methods but before "),e("router-link",{attrs:{to:"/api/query-builder/other-methods.html#runafter"}},[t._v("runAfter")]),t._v(" methods.")],1),t._v(" "),e("p",[t._v("If you need to modify the SQL query at query build time, this is the place to do it. You shouldn't modify the query in any of the "),e("code",[t._v("run")]),t._v(" methods.")]),t._v(" "),e("p",[t._v("Unlike the "),e("code",[t._v("run")]),t._v(" methods ("),e("code",[t._v("runAfter")]),t._v(", "),e("code",[t._v("runBefore")]),t._v(" etc.) these must be synchronous. Also you should not register any "),e("code",[t._v("run")]),t._v(" methods from these. You should "),e("em",[t._v("only")]),t._v(" call the query building methods of the builder provided as a parameter.")]),t._v(" "),e("h5",{attrs:{id:"arguments-10"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#arguments-10","aria-hidden":"true"}},[t._v("#")]),t._v(" Arguments")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Argument")]),t._v(" "),e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("onBuild")]),t._v(" "),e("td",[t._v("function("),e("router-link",{attrs:{to:"/api/query-builder/"}},[t._v("QueryBuilder")]),t._v(")")],1),t._v(" "),e("td",[t._v("The "),e("strong",[t._v("synchronous")]),t._v(" function to be executed.")])])])]),t._v(" "),e("h5",{attrs:{id:"return-value-22"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#return-value-22","aria-hidden":"true"}},[t._v("#")]),t._v(" Return value")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[e("router-link",{attrs:{to:"/api/query-builder/"}},[t._v("QueryBuilder")])],1),t._v(" "),e("td",[e("code",[t._v("this")]),t._v(" query builder for chaining.")])])])]),t._v(" "),e("h5",{attrs:{id:"eamples"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#eamples","aria-hidden":"true"}},[t._v("#")]),t._v(" Eamples")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" query "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Person"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("query")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nquery\n "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("onBuild")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("builder")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   builder"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("where")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'id'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("onBuild")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("builder")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   builder"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("orWhere")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'id'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("h2",{attrs:{id:"onbuildknex"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#onbuildknex","aria-hidden":"true"}},[t._v("#")]),t._v(" onBuildKnex()")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("queryBuilder "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" queryBuilder"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("onBuildKnex")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("onBuildKnex"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("Functions registered with this method are called each time the query is built into an SQL string. This method is ran after "),e("router-link",{attrs:{to:"/api/query-builder/other-methods.html#onbuild"}},[t._v("onBuild")]),t._v(" methods but before "),e("router-link",{attrs:{to:"/api/query-builder/other-methods.html#runafter"}},[t._v("runAfter")]),t._v(" methods.")],1),t._v(" "),e("p",[t._v("If you need to modify the SQL query at query build time, this is the place to do it in addition to "),e("code",[t._v("onBuild")]),t._v(". The only difference between "),e("code",[t._v("onBuildKnex")]),t._v(" and "),e("code",[t._v("onBuild")]),t._v(" is that in "),e("code",[t._v("onBuild")]),t._v(" you can modify the objection's query builder. In "),e("code",[t._v("onBuildKnex")]),t._v(" the objection builder has been compiled into a knex query builder and any modifications to the objection builder will be ignored.")]),t._v(" "),e("p",[t._v("Unlike the "),e("code",[t._v("run")]),t._v("  methods ("),e("code",[t._v("runAfter")]),t._v(", "),e("code",[t._v("runBefore")]),t._v(" etc.) these must be synchronous. Also you should not register any "),e("code",[t._v("run")]),t._v(" methods from these. You should "),e("em",[t._v("only")]),t._v(" call the query building methods of the "),e("strong",[t._v("knexBuilder")]),t._v(" provided as a parameter.")]),t._v(" "),e("div",{staticClass:"warning custom-block"},[e("p",[t._v("You should never call any query building (or any other mutating) method on the "),e("code",[t._v("objectionBuilder")]),t._v(" in this function. If you do, those calls will get ignored. At this point the query builder has been compiled into a knex query builder and you should only modify that. You can call non mutating methods like "),e("code",[t._v("hasSelects")]),t._v(", "),e("code",[t._v("hasWheres")]),t._v(" etc. on the objection builder.")])]),t._v(" "),e("h5",{attrs:{id:"arguments-11"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#arguments-11","aria-hidden":"true"}},[t._v("#")]),t._v(" Arguments")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Argument")]),t._v(" "),e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("onBuildKnex")]),t._v(" "),e("td",[t._v("function("),e("code",[t._v("KnexQueryBuilder")]),t._v(", "),e("router-link",{attrs:{to:"/api/query-builder/"}},[t._v("QueryBuilder")]),t._v(")")],1),t._v(" "),e("td",[t._v("The function to be executed.")])])])]),t._v(" "),e("h5",{attrs:{id:"return-value-23"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#return-value-23","aria-hidden":"true"}},[t._v("#")]),t._v(" Return value")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[e("router-link",{attrs:{to:"/api/query-builder/"}},[t._v("QueryBuilder")])],1),t._v(" "),e("td",[e("code",[t._v("this")]),t._v(" query builder for chaining.")])])])]),t._v(" "),e("h5",{attrs:{id:"examples-4"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#examples-4","aria-hidden":"true"}},[t._v("#")]),t._v(" Examples")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" query "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Person"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("query")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nquery\n "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("onBuildKnex")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("knexBuilder"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" objectionBuilder")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   knexBuilder"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("where")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'id'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("h2",{attrs:{id:"runafter"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#runafter","aria-hidden":"true"}},[t._v("#")]),t._v(" runAfter()")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("queryBuilder "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" queryBuilder"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("runAfter")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("runAfter"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("Registers a function to be called when the builder is executed.")]),t._v(" "),e("p",[t._v("These functions are executed as the last thing before any promise handlers registered using the "),e("router-link",{attrs:{to:"/api/query-builder/other-methods.html#then"}},[t._v("then")]),t._v(" method. Multiple functions can be chained like "),e("router-link",{attrs:{to:"/api/query-builder/other-methods.html#then"}},[t._v("then")]),t._v("  methods of a promise.")],1),t._v(" "),e("h5",{attrs:{id:"arguments-12"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#arguments-12","aria-hidden":"true"}},[t._v("#")]),t._v(" Arguments")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Argument")]),t._v(" "),e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("runAfter")]),t._v(" "),e("td",[t._v("function(result, "),e("router-link",{attrs:{to:"/api/query-builder/"}},[t._v("QueryBuilder")]),t._v(")")],1),t._v(" "),e("td",[t._v("The function to be executed. This function can be async. Note that it needs to return the result used for further processing in the chain of calls.")])])])]),t._v(" "),e("h5",{attrs:{id:"return-value-24"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#return-value-24","aria-hidden":"true"}},[t._v("#")]),t._v(" Return value")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[e("router-link",{attrs:{to:"/api/query-builder/"}},[t._v("QueryBuilder")])],1),t._v(" "),e("td",[e("code",[t._v("this")]),t._v(" query builder for chaining.")])])])]),t._v(" "),e("h5",{attrs:{id:"examples-5"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#examples-5","aria-hidden":"true"}},[t._v("#")]),t._v(" Examples")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" query "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Person"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("query")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nquery\n "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("runAfter")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("models"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" queryBuilder")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" models"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("runAfter")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("models"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" queryBuilder")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   models"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Person"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("fromJson")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("firstName"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Jennifer'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n   "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" models"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" models "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" query"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("h2",{attrs:{id:"onerror"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#onerror","aria-hidden":"true"}},[t._v("#")]),t._v(" onError()")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("queryBuilder "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" queryBuilder"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("onError")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("onError"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("Registers an error handler. Just like "),e("code",[t._v("catch")]),t._v(" but doesn't execute the query.")]),t._v(" "),e("h5",{attrs:{id:"arguments-13"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#arguments-13","aria-hidden":"true"}},[t._v("#")]),t._v(" Arguments")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Argument")]),t._v(" "),e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("onError")]),t._v(" "),e("td",[t._v("function(Error, "),e("router-link",{attrs:{to:"/api/query-builder/"}},[t._v("QueryBuilder")]),t._v(")")],1),t._v(" "),e("td",[t._v("The function to be executed on error.")])])])]),t._v(" "),e("h5",{attrs:{id:"return-value-25"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#return-value-25","aria-hidden":"true"}},[t._v("#")]),t._v(" Return value")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[e("router-link",{attrs:{to:"/api/query-builder/"}},[t._v("QueryBuilder")])],1),t._v(" "),e("td",[e("code",[t._v("this")]),t._v(" query builder for chaining.")])])])]),t._v(" "),e("h5",{attrs:{id:"examples-6"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#examples-6","aria-hidden":"true"}},[t._v("#")]),t._v(" Examples")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" query "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Person"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("query")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nquery\n "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("onError")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("error"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" queryBuilder")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Handle `SomeError` but let other errors go through.")]),t._v("\n   "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("error "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("instanceof")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SomeError")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n     "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// This will cause the query to be resolved with an object")]),t._v("\n     "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// instead of throwing an error.")]),t._v("\n     "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("error"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'some error occurred'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n   "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n     "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" Promise"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("reject")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("error"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n   "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("where")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'age'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("30")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("h2",{attrs:{id:"castto"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#castto","aria-hidden":"true"}},[t._v("#")]),t._v(" castTo()")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("queryBuilder "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" queryBuilder"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("castTo")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ModelClass"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("Sets the model class of the result rows.")]),t._v(" "),e("h5",{attrs:{id:"return-value-26"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#return-value-26","aria-hidden":"true"}},[t._v("#")]),t._v(" Return value")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[e("router-link",{attrs:{to:"/api/model/"}},[t._v("ModelClass")])],1),t._v(" "),e("td",[t._v("The model class of the result rows.")])])])]),t._v(" "),e("h5",{attrs:{id:"return-value-27"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#return-value-27","aria-hidden":"true"}},[t._v("#")]),t._v(" Return value")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[e("router-link",{attrs:{to:"/api/query-builder/"}},[t._v("QueryBuilder")])],1),t._v(" "),e("td",[e("code",[t._v("this")]),t._v(" query builder for chaining.")])])])]),t._v(" "),e("h5",{attrs:{id:"examples-7"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#examples-7","aria-hidden":"true"}},[t._v("#")]),t._v(" Examples")]),t._v(" "),e("p",[t._v("The following example creates a query through "),e("code",[t._v("Person")]),t._v(", joins a bunch of relations, selects\nonly the related "),e("code",[t._v("Animal")]),t._v("'s columns and returns the results as "),e("code",[t._v("Animal")]),t._v(" instances instead\nof "),e("code",[t._v("Person")]),t._v(" instances.")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" animals "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" Person\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("query")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("joinRelation")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'children.children.pets'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("select")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'children:children:pets.*'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("castTo")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Animal"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("If your result rows represent no actual model, you can use "),e("code",[t._v("objection.Model")])]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Model "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'objection'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" models "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" Person\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("query")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("joinRelation")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'children.pets'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("select")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'children:pets.id as animalId'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'children.firstName as childFirstName'")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("castTo")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Model"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("h2",{attrs:{id:"modelclass"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#modelclass","aria-hidden":"true"}},[t._v("#")]),t._v(" modelClass()")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" modelClass "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" queryBuilder"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("modelClass")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("Gets the Model subclass this builder is bound to.")]),t._v(" "),e("h5",{attrs:{id:"return-value-28"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#return-value-28","aria-hidden":"true"}},[t._v("#")]),t._v(" Return value")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[e("router-link",{attrs:{to:"/api/model/"}},[t._v("Model")])],1),t._v(" "),e("td",[t._v("The Model subclass this builder is bound to")])])])]),t._v(" "),e("h2",{attrs:{id:"tostring"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#tostring","aria-hidden":"true"}},[t._v("#")]),t._v(" toString()")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" sql "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" queryBuilder"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("toString")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("Returns the SQL string suitable for logging input "),e("strong",[t._v("but not for execution")]),t._v(", via Knex's "),e("code",[t._v("toString()")]),t._v(". This method should not be used to create queries for database execution because it makes no guarantees about escaping bindings properly.")]),t._v(" "),e("p",[t._v("Note: In the current release, if the query builder attempts to execute multiple queries or throw any exception whatsoever, "),e("strong",[t._v("no error will throw")]),t._v(" and instead the following string is returned:")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("This query cannot be built synchronously. Consider using debug() method instead.\n")])])]),e("p",[t._v("Later versions of Objection may introduce a native way to retrieve an executable SQL statement, or handle this behavior differently.")]),t._v(" "),e("h5",{attrs:{id:"return-value-29"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#return-value-29","aria-hidden":"true"}},[t._v("#")]),t._v(" Return value")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("string")]),t._v(" "),e("td",[t._v("The SQL this query builder will build, or "),e("code",[t._v("This query cannot be built synchronously. Consider using debug() method instead.")]),t._v(" if an exception is thrown")])])])]),t._v(" "),e("h2",{attrs:{id:"tosql"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#tosql","aria-hidden":"true"}},[t._v("#")]),t._v(" toSql()")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" sql "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" queryBuilder"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("toSql")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("An alias for "),e("code",[t._v("toString()")]),t._v(".")]),t._v(" "),e("p",[t._v("Note: The behavior of Objection's "),e("code",[t._v("toSql()")]),t._v(" is different from Knex's "),e("code",[t._v("toSql()")]),t._v(" (see above). This method may be deprecated soon.")]),t._v(" "),e("h5",{attrs:{id:"return-value-30"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#return-value-30","aria-hidden":"true"}},[t._v("#")]),t._v(" Return value")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("string")]),t._v(" "),e("td",[t._v("The SQL this query builder will build, or "),e("code",[t._v("This query cannot be built synchronously. Consider using debug() method instead.")]),t._v(" if an exception is thrown")])])])]),t._v(" "),e("h2",{attrs:{id:"skipundefined"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#skipundefined","aria-hidden":"true"}},[t._v("#")]),t._v(" skipUndefined()")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("queryBuilder "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" queryBuilder"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("skipUndefined")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("If this method is called for a builder then undefined values passed to the query builder methods don't cause an exception but are ignored instead.")]),t._v(" "),e("p",[t._v("For example the following query will return all "),e("code",[t._v("Person")]),t._v(" rows if "),e("code",[t._v("req.query.firstName")]),t._v(" is "),e("code",[t._v("undefined")]),t._v(".")]),t._v(" "),e("h5",{attrs:{id:"return-value-31"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#return-value-31","aria-hidden":"true"}},[t._v("#")]),t._v(" Return value")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[e("router-link",{attrs:{to:"/api/query-builder/"}},[t._v("QueryBuilder")])],1),t._v(" "),e("td",[e("code",[t._v("this")]),t._v(" query builder for chaining")])])])]),t._v(" "),e("h5",{attrs:{id:"examples-8"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#examples-8","aria-hidden":"true"}},[t._v("#")]),t._v(" Examples")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("Person\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("query")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("skipUndefined")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("where")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'firstName'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" req"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("query"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("firstName"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),e("h2",{attrs:{id:"transacting"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#transacting","aria-hidden":"true"}},[t._v("#")]),t._v(" transacting()")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("queryBuilder "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" queryBuilder"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("transacting")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("transaction"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("Sets the transaction for a query.")]),t._v(" "),e("h5",{attrs:{id:"arguments-14"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#arguments-14","aria-hidden":"true"}},[t._v("#")]),t._v(" Arguments")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Argument")]),t._v(" "),e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("transaction")]),t._v(" "),e("td",[t._v("object")]),t._v(" "),e("td",[t._v("A transaction object")])])])]),t._v(" "),e("h5",{attrs:{id:"return-value-32"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#return-value-32","aria-hidden":"true"}},[t._v("#")]),t._v(" Return value")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[e("router-link",{attrs:{to:"/api/query-builder/"}},[t._v("QueryBuilder")])],1),t._v(" "),e("td",[e("code",[t._v("this")]),t._v(" query builder for chaining")])])])]),t._v(" "),e("h2",{attrs:{id:"clone"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#clone","aria-hidden":"true"}},[t._v("#")]),t._v(" clone()")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" clone "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" queryBuilder"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("clone")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("Create a clone of this builder.")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[e("router-link",{attrs:{to:"/api/query-builder/"}},[t._v("QueryBuilder")])],1),t._v(" "),e("td",[t._v("Clone of the query builder")])])])]),t._v(" "),e("h2",{attrs:{id:"execute"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#execute","aria-hidden":"true"}},[t._v("#")]),t._v(" execute()")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" promise "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" queryBuilder"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("execute")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("Executes the query and returns a Promise.")]),t._v(" "),e("h5",{attrs:{id:"return-value-33"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#return-value-33","aria-hidden":"true"}},[t._v("#")]),t._v(" Return value")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[e("code",[t._v("Promise")])]),t._v(" "),e("td",[t._v("Promise the will be resolved with the result of the query.")])])])]),t._v(" "),e("h2",{attrs:{id:"then"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#then","aria-hidden":"true"}},[t._v("#")]),t._v(" then()")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" promise "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" queryBuilder"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("successHandler"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" errorHandler"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("Executes the query and returns a Promise.")]),t._v(" "),e("h5",{attrs:{id:"arguments-15"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#arguments-15","aria-hidden":"true"}},[t._v("#")]),t._v(" Arguments")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Argument")]),t._v(" "),e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Default")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("successHandler")]),t._v(" "),e("td",[t._v("function")]),t._v(" "),e("td",[t._v("identity")]),t._v(" "),e("td",[t._v("Promise success handler")])]),t._v(" "),e("tr",[e("td",[t._v("errorHandler")]),t._v(" "),e("td",[t._v("function")]),t._v(" "),e("td",[t._v("identity")]),t._v(" "),e("td",[t._v("Promise error handler")])])])]),t._v(" "),e("h5",{attrs:{id:"return-value-34"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#return-value-34","aria-hidden":"true"}},[t._v("#")]),t._v(" Return value")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[e("code",[t._v("Promise")])]),t._v(" "),e("td",[t._v("Promise the will be resolved with the result of the query.")])])])]),t._v(" "),e("h2",{attrs:{id:"map"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#map","aria-hidden":"true"}},[t._v("#")]),t._v(" map()")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" promise "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" queryBuilder"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("map")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("mapper"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("Executes the query and calls "),e("code",[t._v("map(mapper)")]),t._v(" for the returned promise.")]),t._v(" "),e("h5",{attrs:{id:"arguments-16"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#arguments-16","aria-hidden":"true"}},[t._v("#")]),t._v(" Arguments")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Argument")]),t._v(" "),e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Default")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("mapper")]),t._v(" "),e("td",[t._v("function")]),t._v(" "),e("td",[t._v("identity")]),t._v(" "),e("td",[t._v("Mapper function")])])])]),t._v(" "),e("h5",{attrs:{id:"return-value-35"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#return-value-35","aria-hidden":"true"}},[t._v("#")]),t._v(" Return value")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[e("code",[t._v("Promise")])]),t._v(" "),e("td",[t._v("Promise the will be resolved with the result of the query.")])])])]),t._v(" "),e("h2",{attrs:{id:"reduce"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#reduce","aria-hidden":"true"}},[t._v("#")]),t._v(" reduce()")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" promise "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" queryBuilder"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("reduce")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("reducer"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" initialValue"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("Executes the query and calls "),e("code",[t._v("reduce(reducer, initialValue)")]),t._v(" for the returned promise.")]),t._v(" "),e("h5",{attrs:{id:"arguments-17"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#arguments-17","aria-hidden":"true"}},[t._v("#")]),t._v(" Arguments")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Argument")]),t._v(" "),e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Default")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("reducer")]),t._v(" "),e("td",[t._v("function")]),t._v(" "),e("td",[t._v("undefined")]),t._v(" "),e("td",[t._v("Reducer function")])]),t._v(" "),e("tr",[e("td",[t._v("initialValue")]),t._v(" "),e("td",[t._v("any")]),t._v(" "),e("td",[t._v("first element of the reduced collection")]),t._v(" "),e("td",[t._v("First arg for the")])])])]),t._v(" "),e("p",[t._v("reducer function")]),t._v(" "),e("h5",{attrs:{id:"return-value-36"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#return-value-36","aria-hidden":"true"}},[t._v("#")]),t._v(" Return value")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[e("code",[t._v("Promise")])]),t._v(" "),e("td",[t._v("Promise the will be resolved with the result of the query.")])])])]),t._v(" "),e("h2",{attrs:{id:"catch"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#catch","aria-hidden":"true"}},[t._v("#")]),t._v(" catch()")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" promise "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" queryBuilder"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("catch")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("errorHandler"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("Executes the query and calls "),e("code",[t._v("catch(errorHandler)")]),t._v(" for the returned promise.")]),t._v(" "),e("h5",{attrs:{id:"arguments-18"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#arguments-18","aria-hidden":"true"}},[t._v("#")]),t._v(" Arguments")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Argument")]),t._v(" "),e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Default")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("errorHandler")]),t._v(" "),e("td",[t._v("function")]),t._v(" "),e("td",[t._v("identity")]),t._v(" "),e("td",[t._v("Error handler")])])])]),t._v(" "),e("h5",{attrs:{id:"return-value-37"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#return-value-37","aria-hidden":"true"}},[t._v("#")]),t._v(" Return value")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[e("code",[t._v("Promise")])]),t._v(" "),e("td",[t._v("Promise the will be resolved with the result of the query.")])])])]),t._v(" "),e("h2",{attrs:{id:"return"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#return","aria-hidden":"true"}},[t._v("#")]),t._v(" return()")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" promise "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" queryBuilder"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("return")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("returnValue"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("Executes the query and calls "),e("code",[t._v("return(returnValue)")]),t._v(" for the returned promise.")]),t._v(" "),e("h5",{attrs:{id:"arguments-19"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#arguments-19","aria-hidden":"true"}},[t._v("#")]),t._v(" Arguments")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Argument")]),t._v(" "),e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Default")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("returnValue")]),t._v(" "),e("td"),t._v(" "),e("td",[t._v("undefined")]),t._v(" "),e("td",[t._v("Return value")])])])]),t._v(" "),e("h5",{attrs:{id:"return-value-38"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#return-value-38","aria-hidden":"true"}},[t._v("#")]),t._v(" Return value")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[e("code",[t._v("Promise")])]),t._v(" "),e("td",[t._v("Promise the will be resolved with the result of the query.")])])])]),t._v(" "),e("h2",{attrs:{id:"bind"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#bind","aria-hidden":"true"}},[t._v("#")]),t._v(" bind()")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" promise "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("queryBuilder")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("bind")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("returnValue"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("Executes the query and calls "),e("code",[t._v("bind(context)")]),t._v(" for the returned promise.")]),t._v(" "),e("h5",{attrs:{id:"arguments-20"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#arguments-20","aria-hidden":"true"}},[t._v("#")]),t._v(" Arguments")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Argument")]),t._v(" "),e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Default")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("context")]),t._v(" "),e("td"),t._v(" "),e("td",[t._v("undefined")]),t._v(" "),e("td",[t._v("Bind context")])])])]),t._v(" "),e("h5",{attrs:{id:"return-value-39"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#return-value-39","aria-hidden":"true"}},[t._v("#")]),t._v(" Return value")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[e("code",[t._v("Promise")])]),t._v(" "),e("td",[t._v("Promise the will be resolved with the result of the query.")])])])]),t._v(" "),e("h2",{attrs:{id:"ascallback"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ascallback","aria-hidden":"true"}},[t._v("#")]),t._v(" asCallback()")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" promise "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" queryBuilder"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("asCallback")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("callback"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("Executes the query and calls "),e("code",[t._v("asCallback(callback)")]),t._v(" for the returned promise.")]),t._v(" "),e("h5",{attrs:{id:"arguments-21"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#arguments-21","aria-hidden":"true"}},[t._v("#")]),t._v(" Arguments")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Argument")]),t._v(" "),e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Default")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("callback")]),t._v(" "),e("td",[t._v("function")]),t._v(" "),e("td",[t._v("undefined")]),t._v(" "),e("td",[t._v("Node style callback")])])])]),t._v(" "),e("h5",{attrs:{id:"return-value-40"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#return-value-40","aria-hidden":"true"}},[t._v("#")]),t._v(" Return value")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[e("code",[t._v("Promise")])]),t._v(" "),e("td",[t._v("Promise the will be resolved with the result of the query.")])])])]),t._v(" "),e("h2",{attrs:{id:"nodeify"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#nodeify","aria-hidden":"true"}},[t._v("#")]),t._v(" nodeify()")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" promise "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" queryBuilder"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("nodeify")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("callback"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("Executes the query and calls "),e("code",[t._v("nodeify(callback)")]),t._v(" for the returned promise.")]),t._v(" "),e("h5",{attrs:{id:"arguments-22"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#arguments-22","aria-hidden":"true"}},[t._v("#")]),t._v(" Arguments")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Argument")]),t._v(" "),e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Default")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("callback")]),t._v(" "),e("td",[t._v("function")]),t._v(" "),e("td",[t._v("undefined")]),t._v(" "),e("td",[t._v("Node style callback")])])])]),t._v(" "),e("h5",{attrs:{id:"return-value-41"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#return-value-41","aria-hidden":"true"}},[t._v("#")]),t._v(" Return value")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[e("code",[t._v("Promise")])]),t._v(" "),e("td",[t._v("Promise the will be resolved with the result of the query.")])])])]),t._v(" "),e("h2",{attrs:{id:"resultsize"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#resultsize","aria-hidden":"true"}},[t._v("#")]),t._v(" resultSize()")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" promise "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" queryBuilder"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("resultSize")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("Returns the amount of rows the current query would produce without "),e("router-link",{attrs:{to:"/api/query-builder/find-methods.html#limit"}},[t._v("limit")]),t._v(" and "),e("router-link",{attrs:{to:"/api/query-builder/find-methods.html#offset"}},[t._v("offset")]),t._v(" applied. Note that this executes a copy of the query and returns a Promise.")],1),t._v(" "),e("p",[t._v("This method is often more convenient than "),e("code",[t._v("count")]),t._v(" which returns an array of objects instead a single number.")]),t._v(" "),e("h5",{attrs:{id:"return-value-42"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#return-value-42","aria-hidden":"true"}},[t._v("#")]),t._v(" Return value")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[e("code",[t._v("Promise<number>")])]),t._v(" "),e("td",[t._v("Promise the will be resolved with the result size.")])])])]),t._v(" "),e("h5",{attrs:{id:"examples-9"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#examples-9","aria-hidden":"true"}},[t._v("#")]),t._v(" Examples")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" query "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Person\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("query")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("where")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'age'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'>'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("total"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" models"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" Promise"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("all")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n  query"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("resultSize")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  query"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("offset")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("limit")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("50")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("h2",{attrs:{id:"page"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#page","aria-hidden":"true"}},[t._v("#")]),t._v(" page()")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("queryBuilder "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" queryBuilder"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("page")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("page"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" pageSize"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" result "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" Person\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("query")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("where")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'age'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'>'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("page")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nconsole"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("result"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("results"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// --\x3e 100")]),t._v("\nconsole"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("result"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("total"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// --\x3e 3341")]),t._v("\n")])])]),e("p",[t._v("Two queries are performed by this method: the actual query and a query to get the "),e("code",[t._v("total")]),t._v(" count.")]),t._v(" "),e("p",[t._v("Mysql has the "),e("code",[t._v("SQL_CALC_FOUND_ROWS")]),t._v(" option and "),e("code",[t._v("FOUND_ROWS()")]),t._v(" function that can be used to calculate the result size, but according to my tests and "),e("a",{attrs:{href:"http://www.google.com/search?q=SQL_CALC_FOUND_ROWS+performance",target:"_blank",rel:"noopener noreferrer"}},[t._v("the interwebs"),e("OutboundLink")],1),t._v(" the performance is significantly worse than just executing a separate count query.")]),t._v(" "),e("p",[t._v("Postgresql has window functions that can be used to get the total count like this "),e("code",[t._v("select count(*) over () as total")]),t._v(". The problem with this is that if the result set is empty, we don't get the total count either. (If someone can figure out a way around this, a PR is very welcome).")]),t._v(" "),e("h5",{attrs:{id:"arguments-23"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#arguments-23","aria-hidden":"true"}},[t._v("#")]),t._v(" Arguments")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Argument")]),t._v(" "),e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("page")]),t._v(" "),e("td",[t._v("number")]),t._v(" "),e("td",[t._v("The index of the page to return. The index of the first page is 0.")])]),t._v(" "),e("tr",[e("td",[t._v("pageSize")]),t._v(" "),e("td",[t._v("number")]),t._v(" "),e("td",[t._v("The page size")])])])]),t._v(" "),e("h5",{attrs:{id:"return-value-43"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#return-value-43","aria-hidden":"true"}},[t._v("#")]),t._v(" Return value")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[e("router-link",{attrs:{to:"/api/query-builder/"}},[t._v("QueryBuilder")])],1),t._v(" "),e("td",[e("code",[t._v("this")]),t._v(" query builder for chaining")])])])]),t._v(" "),e("h2",{attrs:{id:"range"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#range","aria-hidden":"true"}},[t._v("#")]),t._v(" range()")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("queryBuilder "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" queryBuilder"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("range")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("start"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" end"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("Only returns the given range of results.")]),t._v(" "),e("p",[t._v("Two queries are performed by this method: the actual query and a query to get the "),e("code",[t._v("total")]),t._v(" count.")]),t._v(" "),e("p",[t._v("Mysql has the "),e("code",[t._v("SQL_CALC_FOUND_ROWS")]),t._v(" option and "),e("code",[t._v("FOUND_ROWS()")]),t._v(" function that can be used to calculate the result size, but according to my tests and "),e("a",{attrs:{href:"http://www.google.com/search?q=SQL_CALC_FOUND_ROWS+performance",target:"_blank",rel:"noopener noreferrer"}},[t._v("the interwebs"),e("OutboundLink")],1),t._v(" the performance is significantly worse than just executing a separate count query.")]),t._v(" "),e("p",[t._v("Postgresql has window functions that can be used to get the total count like this "),e("code",[t._v("select count(*) over () as total")]),t._v(". The problem with this is that if the result set is empty, we don't get the total count either. (If someone can figure out a way around this, a PR is very welcome).")]),t._v(" "),e("h5",{attrs:{id:"arguments-24"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#arguments-24","aria-hidden":"true"}},[t._v("#")]),t._v(" Arguments")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Argument")]),t._v(" "),e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("start")]),t._v(" "),e("td",[t._v("number")]),t._v(" "),e("td",[t._v("The index of the first result (inclusive)")])]),t._v(" "),e("tr",[e("td",[t._v("end")]),t._v(" "),e("td",[t._v("number")]),t._v(" "),e("td",[t._v("The index of the last result (inclusive)")])])])]),t._v(" "),e("h5",{attrs:{id:"return-value-44"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#return-value-44","aria-hidden":"true"}},[t._v("#")]),t._v(" Return value")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[e("router-link",{attrs:{to:"/api/query-builder/"}},[t._v("QueryBuilder")])],1),t._v(" "),e("td",[e("code",[t._v("this")]),t._v(" query builder for chaining")])])])]),t._v(" "),e("h5",{attrs:{id:"examples-10"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#examples-10","aria-hidden":"true"}},[t._v("#")]),t._v(" Examples")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" result "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" Person\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("query")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("where")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'age'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'>'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("range")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nconsole"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("result"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("results"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// --\x3e 101")]),t._v("\nconsole"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("result"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("total"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// --\x3e 3341")]),t._v("\n")])])]),e("p",[e("code",[t._v("range")]),t._v(" can be called without arguments if you want to specify the limit and offset explicitly:")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" result "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" Person\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("query")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("where")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'age'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'>'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("limit")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("range")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nconsole"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("result"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("results"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// --\x3e 101")]),t._v("\nconsole"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("result"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("total"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// --\x3e 3341")]),t._v("\n")])])]),e("h2",{attrs:{id:"pluck"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#pluck","aria-hidden":"true"}},[t._v("#")]),t._v(" pluck()")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("queryBuilder "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" queryBuilder"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("pluck")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("propertyName"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("If the result is an array, plucks a property from each object.")]),t._v(" "),e("h5",{attrs:{id:"arguments-25"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#arguments-25","aria-hidden":"true"}},[t._v("#")]),t._v(" Arguments")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Argument")]),t._v(" "),e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("propertyName")]),t._v(" "),e("td",[t._v("string")]),t._v(" "),e("td",[t._v("The name of the property to pluck")])])])]),t._v(" "),e("h5",{attrs:{id:"return-value-45"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#return-value-45","aria-hidden":"true"}},[t._v("#")]),t._v(" Return value")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[e("router-link",{attrs:{to:"/api/query-builder/"}},[t._v("QueryBuilder")])],1),t._v(" "),e("td",[e("code",[t._v("this")]),t._v(" query builder for chaining")])])])]),t._v(" "),e("h5",{attrs:{id:"examples-11"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#examples-11","aria-hidden":"true"}},[t._v("#")]),t._v(" Examples")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" firstNames "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" Person\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("query")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("where")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'age'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'>'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("pluck")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'firstName'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nconsole"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("typeof")]),t._v(" firstNames"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// --\x3e string")]),t._v("\n")])])]),e("h2",{attrs:{id:"first"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#first","aria-hidden":"true"}},[t._v("#")]),t._v(" first()")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("queryBuilder "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" queryBuilder"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("first")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("If the result is an array, selects the first item.")]),t._v(" "),e("p",[t._v("NOTE: This doesn't add "),e("code",[t._v("limit 1")]),t._v(" to the query by default. You can override the "),e("router-link",{attrs:{to:"/api/model/static-properties.html#static-uselimitinfirst"}},[t._v("Model.useLimitInFirst")]),t._v(" property to change this behaviour.")],1),t._v(" "),e("p",[t._v("Also see "),e("router-link",{attrs:{to:"/api/query-builder/find-methods.html#findbyid"}},[t._v("findById")]),t._v(" and "),e("router-link",{attrs:{to:"/api/query-builder/find-methods.html#findone"}},[t._v("findOne")]),t._v(" shorthand methods.")],1),t._v(" "),e("h5",{attrs:{id:"return-value-46"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#return-value-46","aria-hidden":"true"}},[t._v("#")]),t._v(" Return value")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[e("router-link",{attrs:{to:"/api/query-builder/"}},[t._v("QueryBuilder")])],1),t._v(" "),e("td",[e("code",[t._v("this")]),t._v(" query builder for chaining")])])])]),t._v(" "),e("h5",{attrs:{id:"examples-12"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#examples-12","aria-hidden":"true"}},[t._v("#")]),t._v(" Examples")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" firstPerson "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" Person\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("query")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("first")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nconsole"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("firstPerson"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("age"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("h2",{attrs:{id:"throwifnotfound"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#throwifnotfound","aria-hidden":"true"}},[t._v("#")]),t._v(" throwIfNotFound()")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("queryBuilder "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" queryBuilder"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("throwIfNotFound")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("Causes a "),e("router-link",{attrs:{to:"/api/types/#class-notfounderror"}},[t._v("Model.NotFoundError")]),t._v(" to be thrown if the query result is empty.")],1),t._v(" "),e("p",[t._v("You can replace "),e("code",[t._v("Model.NotFoundError")]),t._v(" with your own error by implementing the static "),e("router-link",{attrs:{to:"/api/model/static-methods.html#static-createnotfounderror"}},[t._v("Model.createNotFoundError(ctx)")]),t._v(" method.")],1),t._v(" "),e("h5",{attrs:{id:"return-value-47"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#return-value-47","aria-hidden":"true"}},[t._v("#")]),t._v(" Return value")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[e("router-link",{attrs:{to:"/api/query-builder/"}},[t._v("QueryBuilder")])],1),t._v(" "),e("td",[e("code",[t._v("this")]),t._v(" query builder for chaining")])])])]),t._v(" "),e("h5",{attrs:{id:"examples-13"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#examples-13","aria-hidden":"true"}},[t._v("#")]),t._v(" Examples")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" Language\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("query")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("where")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'name'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Java'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("andWhere")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'isModern'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("throwIfNotFound")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// No results found.")]),t._v("\n  console"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("instanceof")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Language"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("NotFoundError")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// --\x3e true")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("h2",{attrs:{id:"traverse"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#traverse","aria-hidden":"true"}},[t._v("#")]),t._v(" traverse()")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("queryBuilder "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" queryBuilder"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("traverse")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("modelClass"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" traverser"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("Traverses through all models in the result, including the eagerly loaded relations.")]),t._v(" "),e("p",[t._v("The optional first parameter can be a constructor. If given, the traverser function is only called for the models of that class.")]),t._v(" "),e("h5",{attrs:{id:"arguments-26"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#arguments-26","aria-hidden":"true"}},[t._v("#")]),t._v(" Arguments")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Argument")]),t._v(" "),e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("modelClass")]),t._v(" "),e("td",[e("router-link",{attrs:{to:"/api/model/"}},[t._v("Model")])],1),t._v(" "),e("td",[t._v("The optional model class filter. If given, the traverser function is only called for models of this class.")])]),t._v(" "),e("tr",[e("td",[t._v("traverser")]),t._v(" "),e("td",[t._v("function("),e("router-link",{attrs:{to:"/api/model/"}},[t._v("Model")]),t._v(", "),e("router-link",{attrs:{to:"/api/model/"}},[t._v("Model")]),t._v(", string)")],1),t._v(" "),e("td",[t._v("The traverser function that is called for each model. The first argument is the model itself. If the model is in a relation of some other model the second argument is the parent model and the third argument is the name of the relation.")])])])]),t._v(" "),e("h5",{attrs:{id:"return-value-48"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#return-value-48","aria-hidden":"true"}},[t._v("#")]),t._v(" Return value")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[e("router-link",{attrs:{to:"/api/query-builder/"}},[t._v("QueryBuilder")])],1),t._v(" "),e("td",[e("code",[t._v("this")]),t._v(" query builder for chaining")])])])]),t._v(" "),e("h5",{attrs:{id:"examples-14"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#examples-14","aria-hidden":"true"}},[t._v("#")]),t._v(" Examples")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" people "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" Person\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("query")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("eager")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'pets'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("traverse")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("model"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" parentModel"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" relationName")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("delete")]),t._v(" model"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nconsole"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("people"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// --\x3e undefined")]),t._v("\nconsole"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("people"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pets"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// --\x3e undefined")]),t._v("\n")])])]),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" persons "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" Person\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("query")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("eager")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'pets'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("traverse")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Animal"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("animal"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" parentModel"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" relationName")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("delete")]),t._v(" animal"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nconsole"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("persons"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// --\x3e 1")]),t._v("\nconsole"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("persons"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pets"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// --\x3e undefined")]),t._v("\n")])])]),e("h2",{attrs:{id:"pick"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#pick","aria-hidden":"true"}},[t._v("#")]),t._v(" pick()")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("queryBuilder "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" queryBuilder"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("pick")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("modelClass"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" properties"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("Pick properties from result models.")]),t._v(" "),e("p",[t._v("The first example goes through all models (including relations) and discards all\nproperties but "),e("code",[t._v("id")]),t._v(" and "),e("code",[t._v("name")]),t._v(". The second example also traverses the whole model\ntree and discards all but "),e("code",[t._v("id")]),t._v(" and "),e("code",[t._v("firstName")]),t._v(" properties of all "),e("code",[t._v("Person")]),t._v("\ninstances and "),e("code",[t._v("id")]),t._v(" and "),e("code",[t._v("name")]),t._v(" properties of all "),e("code",[t._v("Animal")]),t._v(" instances.")]),t._v(" "),e("h5",{attrs:{id:"arguments-27"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#arguments-27","aria-hidden":"true"}},[t._v("#")]),t._v(" Arguments")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Argument")]),t._v(" "),e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("modelClass")]),t._v(" "),e("td",[e("router-link",{attrs:{to:"/api/model/"}},[t._v("Model")])],1),t._v(" "),e("td",[t._v("The optional model class filter")])]),t._v(" "),e("tr",[e("td",[t._v("properties")]),t._v(" "),e("td",[t._v("string[]")]),t._v(" "),e("td",[t._v("The properties to pick")])])])]),t._v(" "),e("h5",{attrs:{id:"return-value-49"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#return-value-49","aria-hidden":"true"}},[t._v("#")]),t._v(" Return value")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[e("router-link",{attrs:{to:"/api/query-builder/"}},[t._v("QueryBuilder")])],1),t._v(" "),e("td",[e("code",[t._v("this")]),t._v(" query builder for chaining")])])])]),t._v(" "),e("h5",{attrs:{id:"examples-15"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#examples-15","aria-hidden":"true"}},[t._v("#")]),t._v(" Examples")]),t._v(" "),e("p",[t._v("There are two ways to call this methods:")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("Person\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("query")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("eager")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'pets'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("pick")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'id'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'name'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("and")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("Person\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("query")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("eager")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'pets'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("pick")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Person"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'id'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'firstName'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("pick")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Animal"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'id'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'name'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("h2",{attrs:{id:"omit"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#omit","aria-hidden":"true"}},[t._v("#")]),t._v(" omit()")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("queryBuilder "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" queryBuilder"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("omit")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("modelClass"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" properties"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("Omit properties of result models.")]),t._v(" "),e("p",[t._v("The first example goes through all models (including relations) and omits the properties\n"),e("code",[t._v("parentId")]),t._v(" and "),e("code",[t._v("ownerId")]),t._v(". The second example also traverses the whole model tree and\nomits the properties "),e("code",[t._v("parentId")]),t._v(" and "),e("code",[t._v("age")]),t._v(" from all "),e("code",[t._v("Person")]),t._v(" instances and "),e("code",[t._v("ownerId")]),t._v("\nand "),e("code",[t._v("species")]),t._v(" properties of all "),e("code",[t._v("Animal")]),t._v(" instances.")]),t._v(" "),e("h5",{attrs:{id:"arguments-28"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#arguments-28","aria-hidden":"true"}},[t._v("#")]),t._v(" Arguments")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Argument")]),t._v(" "),e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("modelClass")]),t._v(" "),e("td",[e("router-link",{attrs:{to:"/api/model/"}},[t._v("Model")])],1),t._v(" "),e("td",[t._v("The optional model class filter")])]),t._v(" "),e("tr",[e("td",[t._v("properties")]),t._v(" "),e("td",[t._v("string[]")]),t._v(" "),e("td",[t._v("The properties to omit")])])])]),t._v(" "),e("h5",{attrs:{id:"return-value-50"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#return-value-50","aria-hidden":"true"}},[t._v("#")]),t._v(" Return value")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[e("router-link",{attrs:{to:"/api/query-builder/"}},[t._v("QueryBuilder")])],1),t._v(" "),e("td",[e("code",[t._v("this")]),t._v(" query builder for chaining")])])])]),t._v(" "),e("h5",{attrs:{id:"examples-16"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#examples-16","aria-hidden":"true"}},[t._v("#")]),t._v(" Examples")]),t._v(" "),e("p",[t._v("There are two ways to call this methods:")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("Person\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("query")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("eager")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'pets'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("omit")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'parentId'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ownerId'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("and")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("Person\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("query")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("eager")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'pets'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("omit")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Person"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'parentId'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'age'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("omit")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Animal"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ownerId'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'species'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("h2",{attrs:{id:"timeout"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#timeout","aria-hidden":"true"}},[t._v("#")]),t._v(" timeout()")]),t._v(" "),e("p",[t._v("See "),e("a",{attrs:{href:"http://knexjs.org/#Builder-timeout",target:"_blank",rel:"noopener noreferrer"}},[t._v("knex documentation"),e("OutboundLink")],1)]),t._v(" "),e("h5",{attrs:{id:"return-value-51"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#return-value-51","aria-hidden":"true"}},[t._v("#")]),t._v(" Return value")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[e("router-link",{attrs:{to:"/api/query-builder/"}},[t._v("QueryBuilder")])],1),t._v(" "),e("td",[e("code",[t._v("this")]),t._v(" query builder for chaining.")])])])]),t._v(" "),e("h2",{attrs:{id:"connection"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#connection","aria-hidden":"true"}},[t._v("#")]),t._v(" connection()")]),t._v(" "),e("p",[t._v("See "),e("a",{attrs:{href:"http://knexjs.org/#Builder-connection",target:"_blank",rel:"noopener noreferrer"}},[t._v("knex documentation"),e("OutboundLink")],1)]),t._v(" "),e("h5",{attrs:{id:"return-value-52"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#return-value-52","aria-hidden":"true"}},[t._v("#")]),t._v(" Return value")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[e("router-link",{attrs:{to:"/api/query-builder/"}},[t._v("QueryBuilder")])],1),t._v(" "),e("td",[e("code",[t._v("this")]),t._v(" query builder for chaining.")])])])]),t._v(" "),e("h2",{attrs:{id:"modify"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#modify","aria-hidden":"true"}},[t._v("#")]),t._v(" modify()")]),t._v(" "),e("p",[t._v("Works like "),e("code",[t._v("knex")]),t._v("'s "),e("a",{attrs:{href:"http://knexjs.org/#Builder-modify",target:"_blank",rel:"noopener noreferrer"}},[t._v("modify"),e("OutboundLink")],1),t._v(" function but in addition you can specify model "),e("router-link",{attrs:{to:"/api/model/static-properties.html#static-modifiers"}},[t._v("modifier")]),t._v(" by providing modifier names.")],1),t._v(" "),e("p",[t._v("See "),e("a",{attrs:{href:"http://knexjs.org/#Builder-modify",target:"_blank",rel:"noopener noreferrer"}},[t._v("knex documentation"),e("OutboundLink")],1)]),t._v(" "),e("h5",{attrs:{id:"arguments-29"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#arguments-29","aria-hidden":"true"}},[t._v("#")]),t._v(" Arguments")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Argument")]),t._v(" "),e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("modifier")]),t._v(" "),e("td",[t._v("function("),e("router-link",{attrs:{to:"/api/query-builder/"}},[t._v("QueryBuilder")]),t._v(") | string | string[]")],1),t._v(" "),e("td",[t._v("The modify callback function, receiving the builder as its first argument, followed by the optional arguments. If a string is provided, the corresponding "),e("router-link",{attrs:{to:"/api/model/static-properties.html#static-modifiers"}},[t._v("modifier")]),t._v(" is executed instead.")],1)]),t._v(" "),e("tr",[e("td",[t._v("*arguments")]),t._v(" "),e("td",[t._v("...any")]),t._v(" "),e("td",[t._v("The optional arguments passed to the modify function")])])])]),t._v(" "),e("h5",{attrs:{id:"return-value-53"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#return-value-53","aria-hidden":"true"}},[t._v("#")]),t._v(" Return value")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[e("router-link",{attrs:{to:"/api/query-builder/"}},[t._v("QueryBuilder")])],1),t._v(" "),e("td",[e("code",[t._v("this")]),t._v(" query builder for chaining.")])])])]),t._v(" "),e("h2",{attrs:{id:"applymodifier"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#applymodifier","aria-hidden":"true"}},[t._v("#")]),t._v(" applyModifier()")]),t._v(" "),e("p",[t._v("Applies modifiers to the query builder.")]),t._v(" "),e("h5",{attrs:{id:"arguments-30"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#arguments-30","aria-hidden":"true"}},[t._v("#")]),t._v(" Arguments")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Argument")]),t._v(" "),e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("modifier")]),t._v(" "),e("td",[t._v("string")]),t._v(" "),e("td",[t._v("The name of the modifier, as found in "),e("router-link",{attrs:{to:"/api/model/static-properties.html#static-modifiers"}},[t._v("modifier")]),t._v(".")],1)]),t._v(" "),e("tr",[e("td",[t._v("*arguments")]),t._v(" "),e("td"),t._v(" "),e("td",[t._v("When providing multiple arguments, all provided modifiers will be applied.")])])])]),t._v(" "),e("h5",{attrs:{id:"return-value-54"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#return-value-54","aria-hidden":"true"}},[t._v("#")]),t._v(" Return value")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[e("router-link",{attrs:{to:"/api/query-builder/"}},[t._v("QueryBuilder")])],1),t._v(" "),e("td",[e("code",[t._v("this")]),t._v(" query builder for chaining.")])])])]),t._v(" "),e("h2",{attrs:{id:"applyfilter"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#applyfilter","aria-hidden":"true"}},[t._v("#")]),t._v(" applyFilter()")]),t._v(" "),e("p",[t._v("An alias for "),e("router-link",{attrs:{to:"/api/query-builder/other-methods.html#applymodifier"}},[t._v("applyModifier")])],1)])}),[],!1,null,null,null);a.default=r.exports}}]);